<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Roll.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">megamek</a> &gt; <a href="index.source.html" class="el_package">megamek.common</a> &gt; <span class="el_source">Roll.java</span></div><h1>Roll.java</h1><pre class="source lang-java linenums">/*
 * MegaMek - Copyright (C) 2004 Ben Mazur (bmazur@sev.org)
 * 
 *  This program is free software; you can redistribute it and/or modify it 
 *  under the terms of the GNU General Public License as published by the Free 
 *  Software Foundation; either version 2 of the License, or (at your option) 
 *  any later version.
 * 
 *  This program is distributed in the hope that it will be useful, but 
 *  WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY 
 *  or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License 
 *  for more details.
 */

/*
 * Roll.java
 *
 * Created on July 20, 2004, 4:21 PM
 */

package megamek.common;

/**
 * Encapsulate all information known about a requested roll. This information
 * can be logged for full statistical analysis and auditing, so hopefully people
 * will &lt;b&gt;finally&lt;/b&gt; stop questioning whether the RNG is any good.
 * 
 * @author Suvarov454
 */
public abstract class Roll {

    /**
     * Make sure that all rolls are uniquely identified.
     */
<span class="fc" id="L35">    private static long nextId = 1;</span>

    /**
     * Get the next unique identifier.
     * 
     * @return the next unique &lt;code&gt;long&lt;/code&gt; identifier.
     */
    private static long getNextId() {
<span class="fc" id="L43">        return nextId++;</span>
    }

    /**
     * No one should call the default constructor.
     
    private Roll() {
        throw new UnsupportedOperationException(
                &quot;Default Roll constructor called.&quot;);
    }*/

    /**
     * The unique identifier for this roll.
     */
    protected final long id;

    /**
     * The number of faces on each virtual die.
     */
    protected final int faces;

    /**
     * The lowest value on each virtual die.
     */
    protected final int min;

    /**
     * Store the configuration information for this roll.
     * 
     * @param count - the &lt;code&gt;int&lt;/code&gt; number of results possible on each
     *            virtual die.
     * @param start - the &lt;code&gt;int&lt;/code&gt; value that is the start of the
     *            value set of each virtual die.
     */
<span class="fc" id="L77">    protected Roll(int count, int start) {</span>
<span class="fc" id="L78">        this.id = Roll.getNextId();</span>
<span class="fc" id="L79">        this.faces = count;</span>
<span class="fc" id="L80">        this.min = start;</span>
<span class="fc" id="L81">    }</span>

    /**
     * Get the value of the roll. This is the total of each of the rolls of each
     * virtual die.
     * 
     * @return the &lt;code&gt;int&lt;/code&gt; value of the roll.
     */
    public abstract int getIntValue();

    /**
     * Get a &lt;code&gt;String&lt;/code&gt; containing the roll for each of the virtual
     * dice.
     * 
     * @return the &lt;code&gt;String&lt;/code&gt; value of the roll.
     */
    @Override
    public abstract String toString();

    /**
     * Get a &lt;code&gt;String&lt;/code&gt; report that can be parsed to analyse the
     * roll.
     * 
     * @return the &lt;code&gt;String&lt;/code&gt; details of the roll.
     */
    public abstract String getReport();

    /**
     * Formats &lt;code&gt;Roll&lt;/code&gt; output for test harnesses.
     * 
     * @param roll - the &lt;code&gt;Roll&lt;/code&gt; to be reported.
     */
    protected static void output(Roll roll) {
<span class="nc" id="L114">        System.out.print(&quot;The integer total is &quot;);</span>
<span class="nc" id="L115">        System.out.print(roll.getIntValue());</span>
<span class="nc" id="L116">        System.out.println(&quot;.&quot;);</span>
<span class="nc" id="L117">        System.out.print(&quot;The string total is &quot;);</span>
<span class="nc" id="L118">        System.out.print(roll.toString());</span>
<span class="nc" id="L119">        System.out.println(&quot;.&quot;);</span>
<span class="nc" id="L120">        System.out.print(&quot;The string report is &quot;);</span>
<span class="nc" id="L121">        System.out.print(roll.getReport());</span>
<span class="nc" id="L122">        System.out.println(&quot;.&quot;);</span>
<span class="nc" id="L123">    }</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.4.201905082037</span></div></body></html>