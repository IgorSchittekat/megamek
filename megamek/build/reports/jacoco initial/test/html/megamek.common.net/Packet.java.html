<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Packet.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">megamek</a> &gt; <a href="index.source.html" class="el_package">megamek.common.net</a> &gt; <span class="el_source">Packet.java</span></div><h1>Packet.java</h1><pre class="source lang-java linenums">/*
 * MegaMek - Copyright (C) 2005 Ben Mazur (bmazur@sev.org)
 *
 *  This program is free software; you can redistribute it and/or modify it
 *  under the terms of the GNU General Public License as published by the Free
 *  Software Foundation; either version 2 of the License, or (at your option)
 *  any later version.
 *
 *  This program is distributed in the hope that it will be useful, but
 *  WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY
 *  or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License
 *  for more details.
 */

package megamek.common.net;

/**
 * Application layer data packet used to exchange information between client and
 * server.
 */
public class Packet {

    public static final int COMMAND_CLOSE_CONNECTION = 0;
    public static final int COMMAND_SERVER_GREETING = 10;
    public static final int COMMAND_CLIENT_NAME = 20;
    public static final int COMMAND_CLIENT_VERSIONS = 25;
    public static final int COMMAND_LOCAL_PN = 30;

    public static final int COMMAND_PLAYER_ADD = 40;
    public static final int COMMAND_PLAYER_REMOVE = 50;
    public static final int COMMAND_PLAYER_UPDATE = 60;
    public static final int COMMAND_PLAYER_READY = 70;

    public static final int COMMAND_CHAT = 80;

    public static final int COMMAND_ENTITY_ADD = 90;
    public static final int COMMAND_ENTITY_REMOVE = 100;
    public static final int COMMAND_ENTITY_MOVE = 110;
    public static final int COMMAND_ENTITY_DEPLOY = 120;
    public static final int COMMAND_ENTITY_DEPLOY_UNLOAD = 121;
    public static final int COMMAND_ENTITY_ATTACK = 130;
    public static final int COMMAND_ENTITY_GTA_HEX_SELECT = 135;
    public static final int COMMAND_ENTITY_UPDATE = 140;
    public static final int COMMAND_ENTITY_WORDER_UPDATE = 145;
    public static final int COMMAND_ENTITY_MODECHANGE = 150;
    public static final int COMMAND_ENTITY_AMMOCHANGE = 160;
    public static final int COMMAND_ENTITY_SENSORCHANGE = 165;
    public static final int COMMAND_ENTITY_SINKSCHANGE = 166;
    public static final int COMMAND_ENTITY_ACTIVATE_HIDDEN = 167;
    public static final int COMMAND_ENTITY_SYSTEMMODECHANGE = 170;

    public static final int COMMAND_ENTITY_VISIBILITY_INDICATOR = 180;
    public static final int COMMAND_ADD_SMOKE_CLOUD = 185;
    public static final int COMMAND_CHANGE_HEX = 190;
    public static final int COMMAND_CHANGE_HEXES= 195;

    public static final int COMMAND_BLDG_ADD = 200;
    public static final int COMMAND_BLDG_REMOVE = 210;
    public static final int COMMAND_BLDG_UPDATE = 220;
    public static final int COMMAND_BLDG_COLLAPSE = 230;
    public static final int COMMAND_BLDG_EXPLODE = 240;

    public static final int COMMAND_PHASE_CHANGE = 240;
    public static final int COMMAND_TURN = 250;
    public static final int COMMAND_ROUND_UPDATE = 260;

    public static final int COMMAND_SENDING_BOARD = 270;
    public static final int COMMAND_SENDING_ILLUM_HEXES = 275;
    public static final int COMMAND_CLEAR_ILLUM_HEXES = 276;
    public static final int COMMAND_SENDING_ENTITIES = 280;
    public static final int COMMAND_SENDING_PLAYERS = 290;
    public static final int COMMAND_SENDING_TURNS = 300;
    public static final int COMMAND_SENDING_REPORTS = 310;
    public static final int COMMAND_SENDING_REPORTS_SPECIAL = 320;
    public static final int COMMAND_SENDING_REPORTS_TACTICAL_GENIUS = 330;
    public static final int COMMAND_SENDING_REPORTS_ALL = 340;

    public static final int COMMAND_SENDING_GAME_SETTINGS = 350;
    public static final int COMMAND_SENDING_MAP_DIMENSIONS = 360;
    public static final int COMMAND_SENDING_MAP_SETTINGS = 370;

    public static final int COMMAND_END_OF_GAME = 380;
    public static final int COMMAND_DEPLOY_MINEFIELDS = 390;
    public static final int COMMAND_REVEAL_MINEFIELD = 400;
    public static final int COMMAND_REMOVE_MINEFIELD = 410;
    public static final int COMMAND_SENDING_MINEFIELDS = 420;
    public static final int COMMAND_UPDATE_MINEFIELDS = 430;

    public static final int COMMAND_REROLL_INITIATIVE = 440;
    public static final int COMMAND_UNLOAD_STRANDED = 450;

    public static final int COMMAND_SET_ARTYAUTOHITHEXES = 460;
    public static final int COMMAND_SENDING_ARTILLERYATTACKS = 470;
    public static final int COMMAND_SENDING_FLARES = 480;

    public static final int COMMAND_SERVER_CORRECT_NAME = 490;

    public static final int COMMAND_SEND_SAVEGAME = 500;
    public static final int COMMAND_LOAD_SAVEGAME = 505;
    public static final int COMMAND_LOAD_GAME = 506;
    public static final int COMMAND_SENDING_SPECIAL_HEX_DISPLAY = 510;
    public static final int COMMAND_SPECIAL_HEX_DISPLAY_APPEND = 511;
    public static final int COMMAND_SPECIAL_HEX_DISPLAY_DELETE = 512;
    public static final int COMMAND_CUSTOM_INITIATIVE = 520;
    public static final int COMMAND_FORWARD_INITIATIVE = 521;
    public static final int COMMAND_SENDING_PLANETARY_CONDITIONS = 530;
    public static final int COMMAND_SQUADRON_ADD = 540;
    public static final int COMMAND_ENTITY_CALLEDSHOTCHANGE = 550;

    public static final int COMMAND_ENTITY_MOUNTED_FACINGCHANGE = 560;

    public static final int COMMAND_SENDING_AVAILABLE_MAP_SIZES = 570;

    public static final int COMMAND_ENTITY_LOAD = 580;
    
    public static final int COMMAND_ENTITY_NOVA_NETWORK_CHANGE = 590;
    
    public static final int COMMAND_RESET_ROUND_DEPLOYMENT = 600;
    
    public static final int COMMAND_SENDING_TAGINFO = 610;
    
    public static final int COMMAND_RESET_TAGINFO = 620;
    
    public static final int COMMAND_CLIENT_FEEDBACK_REQUEST = 700;
    public static final int COMMAND_CFR_DOMINO_EFFECT = 705;
    public static final int COMMAND_CFR_EDGE_PROMPT = 710;
    public static final int COMMAND_CFR_AMS_ASSIGN = 715;
    public static final int COMMAND_CFR_APDS_ASSIGN = 716;
    public static final int COMMAND_CFR_HIDDEN_PBS = 717;
    public static final int COMMAND_CFR_TELEGUIDED_TARGET = 718;
    public static final int COMMAND_CFR_TAG_TARGET = 719;
    
    public static final int COMMAND_GAME_VICTORY_EVENT = 800;

    private int command;

    private Object[] data;

    /**
     * Contructs a new Packet with just the command and no data.
     *
     * @param command the command.
     */
    public Packet(int command) {
<span class="nc" id="L145">        this(command, null);</span>
<span class="nc" id="L146">    }</span>

    /**
     * Creates a &lt;code&gt;Packet&lt;/code&gt; with a command and a single object
     *
     * @param command
     * @param object
     */
<span class="nc" id="L154">    public Packet(int command, Object object) {</span>
<span class="nc" id="L155">        this.command = command;</span>
<span class="nc" id="L156">        data = new Object[1];</span>
<span class="nc" id="L157">        data[0] = object;</span>
<span class="nc" id="L158">    }</span>

    /**
     * Creates a &lt;code&gt;Packet&lt;/code&gt; with a command and an array of objects
     *
     * @param command
     * @param data
     */
<span class="nc" id="L166">    public Packet(int command, Object[] data) {</span>
<span class="nc" id="L167">        this.command = command;</span>
<span class="nc" id="L168">        this.data = data;</span>
<span class="nc" id="L169">    }</span>

    /**
     * Returns the command associated.
     */
    public int getCommand() {
<span class="nc" id="L175">        return command;</span>
    }

    /**
     * Returns the data in the packet
     */
    public Object[] getData() {
<span class="nc" id="L182">        return data;</span>
    }

    /**
     * Returns the object at the specified index
     *
     * @param index the index of the desired object
     * @return the object at the specified index
     */
    public Object getObject(int index) {
<span class="nc bnc" id="L192" title="All 2 branches missed.">        if (index &gt;= data.length) {</span>
<span class="nc" id="L193">            return null;</span>
        }
<span class="nc" id="L195">        return data[index];</span>
    }

    /**
     * Returns the &lt;code&gt;int&lt;/code&gt; value of the object at the specified index
     *
     * @param index the index of the desired object
     * @return the &lt;code&gt;int&lt;/code&gt; value of the object at the specified index
     */
    public int getIntValue(int index) {
<span class="nc" id="L205">        return ((Integer) getObject(index)).intValue();</span>
    }

    /**
     * Returns the &lt;code&gt;boolean&lt;/code&gt; value of the object at the specified
     * index
     *
     * @param index the index of the desired object
     * @return the &lt;code&gt;boolean&lt;/code&gt; value of the object at the specified
     *         index
     */
    public boolean getBooleanValue(int index) {
<span class="nc" id="L217">        return ((Boolean) getObject(index)).booleanValue();</span>
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.4.201905082037</span></div></body></html>