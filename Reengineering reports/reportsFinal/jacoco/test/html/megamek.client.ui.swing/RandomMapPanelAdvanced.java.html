<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>RandomMapPanelAdvanced.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">megamek</a> &gt; <a href="index.source.html" class="el_package">megamek.client.ui.swing</a> &gt; <span class="el_source">RandomMapPanelAdvanced.java</span></div><h1>RandomMapPanelAdvanced.java</h1><pre class="source lang-java linenums">/*
 * MegaMek - Copyright (C) 2000-2011 Ben Mazur (bmazur@sev.org)
 *
 *  This program is free software; you can redistribute it and/or modify it
 *  under the terms of the GNU General Public License as published by the Free
 *  Software Foundation; either version 2 of the License, or (at your option)
 *  any later version.
 *
 *  This program is distributed in the hope that it will be useful, but
 *  WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY
 *  or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License
 *  for more details.
 */
package megamek.client.ui.swing;

import megamek.client.ui.Messages;
import megamek.client.ui.swing.util.VerifyInRange;
import megamek.client.ui.swing.util.VerifyIsInteger;
import megamek.client.ui.swing.util.VerifyIsPositiveInteger;
import megamek.client.ui.swing.widget.VerifiableTextField;
import megamek.common.MapSettings;
import megamek.common.util.BoardUtilities;

import javax.swing.*;
import javax.swing.border.LineBorder;
import javax.swing.border.TitledBorder;
import java.awt.*;

/**
 * @author Deric &quot;Netzilla&quot; Page (deric dot page at usa dot net)
 * @version %Id%
 * @since 3/13/14 3:57 PM
 */
public class RandomMapPanelAdvanced extends JPanel {

    /**
     * 
     */
    private static final long serialVersionUID = 7904626306929132645L;
    // City Type constants.
    private static final String CT_NONE = &quot;None&quot;;
    private static final String CT_HUB = &quot;HUB&quot;;
    private static final String CT_GRID = &quot;GRID&quot;;
    private static final String CT_METRO = &quot;METRO&quot;;
    private static final String CT_TOWN = &quot;TOWN&quot;;
<span class="nc" id="L46">    private static final String[] CT_CHOICES = new String[]{CT_NONE, CT_GRID, CT_HUB, CT_METRO, CT_TOWN};</span>

    // Using tabs to keep the data organized.
<span class="nc" id="L49">    private final JTabbedPane tabbedPane = new JTabbedPane(JTabbedPane.TOP, JTabbedPane.WRAP_TAB_LAYOUT);</span>

    // The settings for the map to be generated.
    private MapSettings mapSettings;

    // Elevation
<span class="nc" id="L55">    private final VerifiableTextField elevationAlgorithmField = </span>
<span class="nc" id="L56">            new VerifiableTextField(4, true, true, new VerifyInRange(0, BoardUtilities.getAmountElevationGenerators() - 1, true));</span>
<span class="nc" id="L57">    private final VerifiableTextField hillinessField = </span>
            new VerifiableTextField(4, true, true, new VerifyInRange(0, 99, true));
<span class="nc" id="L59">    private final VerifiableTextField elevationRangeField = </span>
            new VerifiableTextField(4, true, true, new VerifyIsPositiveInteger());
<span class="nc" id="L61">    private final VerifiableTextField elevationCliffsField = </span>
            new VerifiableTextField(4, true, true, new VerifyInRange(0, 100, true));
<span class="nc" id="L63">    private final VerifiableTextField elevationInversionField = </span>
            new VerifiableTextField(4, true, true, new VerifyInRange(0, 99, true));
<span class="nc" id="L65">    private final JCheckBox invertNegativeCheck = new JCheckBox();</span>
<span class="nc" id="L66">    private final VerifiableTextField elevationPeaksField = </span>
            new VerifiableTextField(4, true, true, new VerifyIsPositiveInteger());
<span class="nc" id="L68">    private final JComboBox&lt;String&gt; mountainStyleCombo = new JComboBox&lt;&gt;(MountainStyle.getStyleDescriptions());</span>
<span class="nc" id="L69">    private final VerifiableTextField mountainHeightMinField = </span>
            new VerifiableTextField(4, true, true, new VerifyIsPositiveInteger());
<span class="nc" id="L71">    private final VerifiableTextField mountainHeightMaxField = </span>
            new VerifiableTextField(4, true, true, new VerifyIsPositiveInteger());
<span class="nc" id="L73">    private final VerifiableTextField mountainWidthMinField = </span>
            new VerifiableTextField(4, true, true, new VerifyIsPositiveInteger());
<span class="nc" id="L75">    private final VerifiableTextField mountainWidthMaxField = </span>
            new VerifiableTextField(4, true, true, new VerifyIsPositiveInteger());
<span class="nc" id="L77">    private final VerifiableTextField craterChanceField = </span>
            new VerifiableTextField(4, true, true, new VerifyInRange(0, 100, true));
<span class="nc" id="L79">    private final VerifiableTextField craterAmountMinField = </span>
            new VerifiableTextField(4, true, true, new VerifyIsPositiveInteger());
<span class="nc" id="L81">    private final VerifiableTextField craterAmountMaxField = </span>
            new VerifiableTextField(4, true, true, new VerifyIsPositiveInteger());
<span class="nc" id="L83">    private final VerifiableTextField craterSizeMinField = </span>
            new VerifiableTextField(4, true, true, new VerifyIsPositiveInteger());
<span class="nc" id="L85">    private final VerifiableTextField craterSizeMaxField = </span>
            new VerifiableTextField(4, true, true, new VerifyIsPositiveInteger());

    // Natural Features
<span class="nc" id="L89">    private final VerifiableTextField roughsMinField = </span>
            new VerifiableTextField(4, true, true, new VerifyIsPositiveInteger());
<span class="nc" id="L91">    private final VerifiableTextField roughsMaxField = </span>
            new VerifiableTextField(4, true, true, new VerifyIsPositiveInteger());
<span class="nc" id="L93">    private final VerifiableTextField roughsMinSizeField = </span>
            new VerifiableTextField(4, true, true, new VerifyIsPositiveInteger());
<span class="nc" id="L95">    private final VerifiableTextField roughsMaxSizeField = </span>
            new VerifiableTextField(4, true, true, new VerifyIsPositiveInteger());
<span class="nc" id="L97">    private final VerifiableTextField sandsMinField = </span>
            new VerifiableTextField(4, true, true, new VerifyIsPositiveInteger());
<span class="nc" id="L99">    private final VerifiableTextField sandsMaxField = </span>
            new VerifiableTextField(4, true, true, new VerifyIsPositiveInteger());
<span class="nc" id="L101">    private final VerifiableTextField sandsSizeMinField = </span>
            new VerifiableTextField(4, true, true, new VerifyIsPositiveInteger());
<span class="nc" id="L103">    private final VerifiableTextField sandsSizeMaxField = </span>
            new VerifiableTextField(4, true, true, new VerifyIsPositiveInteger());
<span class="nc" id="L105">    private final VerifiableTextField swampsMinField = </span>
            new VerifiableTextField(4, true, true, new VerifyIsPositiveInteger());
<span class="nc" id="L107">    private final VerifiableTextField swampsMaxField = </span>
            new VerifiableTextField(4, true, true, new VerifyIsPositiveInteger());
<span class="nc" id="L109">    private final VerifiableTextField swampsMinSizeField = </span>
            new VerifiableTextField(4, true, true, new VerifyIsPositiveInteger());
<span class="nc" id="L111">    private final VerifiableTextField swampsMaxSizeField = </span>
            new VerifiableTextField(4, true, true, new VerifyIsPositiveInteger());
<span class="nc" id="L113">    private final VerifiableTextField woodsMinField = </span>
            new VerifiableTextField(4, true, true, new VerifyIsPositiveInteger());
<span class="nc" id="L115">    private final VerifiableTextField woodsMaxField = </span>
            new VerifiableTextField(4, true, true, new VerifyIsPositiveInteger());
<span class="nc" id="L117">    private final VerifiableTextField woodsMinSizeField = </span>
            new VerifiableTextField(4, true, true, new VerifyIsPositiveInteger());
<span class="nc" id="L119">    private final VerifiableTextField woodsMaxSizeField = </span>
            new VerifiableTextField(4, true, true, new VerifyIsPositiveInteger());
<span class="nc" id="L121">    private final VerifiableTextField woodsHeavyChanceField = </span>
            new VerifiableTextField(4, true, true, new VerifyInRange(0, 100, true));
<span class="nc" id="L123">    private final VerifiableTextField foliageMinField = </span>
            new VerifiableTextField(4, true, true, new VerifyIsPositiveInteger());
<span class="nc" id="L125">    private final VerifiableTextField foliageMaxField = </span>
            new VerifiableTextField(4, true, true, new VerifyIsPositiveInteger());
<span class="nc" id="L127">    private final VerifiableTextField foliageMinSizeField = </span>
            new VerifiableTextField(4, true, true, new VerifyIsPositiveInteger());
<span class="nc" id="L129">    private final VerifiableTextField foliageMaxSizeField = </span>
            new VerifiableTextField(4, true, true, new VerifyIsPositiveInteger());
<span class="nc" id="L131">    private final VerifiableTextField foliageHeavyChanceField = </span>
            new VerifiableTextField(4, true, true, new VerifyInRange(0, 100, true));

    // Civilized Features.
<span class="nc" id="L135">    private final VerifiableTextField fieldsMinField = </span>
            new VerifiableTextField(4, true, true, new VerifyIsPositiveInteger());
<span class="nc" id="L137">    private final VerifiableTextField fieldsMaxField = </span>
            new VerifiableTextField(4, true, true, new VerifyIsPositiveInteger());
<span class="nc" id="L139">    private final VerifiableTextField fieldSizeMinField = </span>
            new VerifiableTextField(4, true, true, new VerifyIsPositiveInteger());
<span class="nc" id="L141">    private final VerifiableTextField fieldSizeMaxField = </span>
            new VerifiableTextField(4, true, true, new VerifyIsPositiveInteger());
<span class="nc" id="L143">    private final VerifiableTextField fortifiedMinField = </span>
            new VerifiableTextField(4, true, true, new VerifyIsPositiveInteger());
<span class="nc" id="L145">    private final VerifiableTextField fortifiedMaxField = </span>
            new VerifiableTextField(4, true, true, new VerifyIsPositiveInteger());
<span class="nc" id="L147">    private final VerifiableTextField fortifiedSizeMinField = </span>
            new VerifiableTextField(4, true, true, new VerifyIsPositiveInteger());
<span class="nc" id="L149">    private final VerifiableTextField fortifiedSizeMaxField = </span>
            new VerifiableTextField(4, true, true, new VerifyIsPositiveInteger());
<span class="nc" id="L151">    private final VerifiableTextField pavementMinField = </span>
            new VerifiableTextField(4, true, true, new VerifyIsPositiveInteger());
<span class="nc" id="L153">    private final VerifiableTextField pavementMaxField = </span>
            new VerifiableTextField(4, true, true, new VerifyIsPositiveInteger());
<span class="nc" id="L155">    private final VerifiableTextField pavementSizeMinField = </span>
            new VerifiableTextField(4, true, true, new VerifyIsPositiveInteger());
<span class="nc" id="L157">    private final VerifiableTextField pavementSizeMaxField = </span>
            new VerifiableTextField(4, true, true, new VerifyIsPositiveInteger());
<span class="nc" id="L159">    private final VerifiableTextField roadChanceField = </span>
            new VerifiableTextField(4, true, true, new VerifyInRange(0, 100, true));
<span class="nc" id="L161">    private final VerifiableTextField rubbleMinField = </span>
            new VerifiableTextField(4, true, true, new VerifyIsPositiveInteger());
<span class="nc" id="L163">    private final VerifiableTextField rubbleMaxField = </span>
            new VerifiableTextField(4, true, true, new VerifyIsPositiveInteger());
<span class="nc" id="L165">    private final VerifiableTextField rubbleSizeMinField = </span>
            new VerifiableTextField(4, true, true, new VerifyIsPositiveInteger());
<span class="nc" id="L167">    private final VerifiableTextField rubbleSizeMaxField = </span>
            new VerifiableTextField(4, true, true, new VerifyIsPositiveInteger());
<span class="nc" id="L169">    private final JComboBox&lt;String&gt; cityTypeCombo = new JComboBox&lt;&gt;(CT_CHOICES);</span>
<span class="nc" id="L170">    private final VerifiableTextField cityBlocks = </span>
            new VerifiableTextField(4, true, true, new VerifyIsPositiveInteger());
<span class="nc" id="L172">    private final VerifiableTextField cityCFMinField = </span>
            new VerifiableTextField(4, true, true, new VerifyInRange(1, 150, true));
<span class="nc" id="L174">    private final VerifiableTextField cityCFMaxField = </span>
            new VerifiableTextField(4, true, true, new VerifyInRange(1, 150, true));
<span class="nc" id="L176">    private final VerifiableTextField cityFloorsMinField = </span>
            new VerifiableTextField(4, true, true, new VerifyInRange(1, 100, true));
<span class="nc" id="L178">    private final VerifiableTextField cityFloorsMaxField = </span>
            new VerifiableTextField(4, true, true, new VerifyInRange(1, 100, true));
<span class="nc" id="L180">    private final VerifiableTextField cityDensityField = </span>
            new VerifiableTextField(4, true, true, new VerifyInRange(1, 100, true));
<span class="nc" id="L182">    private final VerifiableTextField townSizeField = </span>
            new VerifiableTextField(4, true, true, new VerifyInRange(1, 100, true));

    // Water
<span class="nc" id="L186">    private final VerifiableTextField lakesMinField = </span>
            new VerifiableTextField(4, true, true, new VerifyIsPositiveInteger());
<span class="nc" id="L188">    private final VerifiableTextField lakesMaxField = </span>
            new VerifiableTextField(4, true, true, new VerifyIsPositiveInteger());
<span class="nc" id="L190">    private final VerifiableTextField lakeSizeMinField = </span>
            new VerifiableTextField(4, true, true, new VerifyIsPositiveInteger());
<span class="nc" id="L192">    private final VerifiableTextField lakeSizeMaxField = </span>
            new VerifiableTextField(4, true, true, new VerifyIsPositiveInteger());
<span class="nc" id="L194">    private final VerifiableTextField deepChanceField = </span>
            new VerifiableTextField(4, true, true, new VerifyInRange(0, 100, true));
<span class="nc" id="L196">    private final VerifiableTextField riverChanceField = </span>
            new VerifiableTextField(4, true, true, new VerifyInRange(0, 100, true));
<span class="nc" id="L198">    private final VerifiableTextField iceMinField = </span>
            new VerifiableTextField(4, true, true, new VerifyIsPositiveInteger());
<span class="nc" id="L200">    private final VerifiableTextField iceMaxField = </span>
            new VerifiableTextField(4, true, true, new VerifyIsPositiveInteger());
<span class="nc" id="L202">    private final VerifiableTextField iceSizeMinField = </span>
            new VerifiableTextField(4, true, true, new VerifyIsPositiveInteger());
<span class="nc" id="L204">    private final VerifiableTextField iceSizeMaxField = </span>
            new VerifiableTextField(4, true, true, new VerifyIsPositiveInteger());
<span class="nc" id="L206">    private final VerifiableTextField freezeChanceField = </span>
            new VerifiableTextField(4, true, true, new VerifyInRange(0, 100, true));

    // Special effects
<span class="nc" id="L210">    private final VerifiableTextField droughtChanceField = </span>
            new VerifiableTextField(4, true, true, new VerifyInRange(0, 100, true));
<span class="nc" id="L212">    private final VerifiableTextField floodChanceField = </span>
            new VerifiableTextField(4, true, true, new VerifyInRange(0, 100, true));
<span class="nc" id="L214">    private final VerifiableTextField fireChanceField = </span>
            new VerifiableTextField(4, true, true, new VerifyInRange(0, 100, true));
<span class="nc" id="L216">    private final VerifiableTextField specialFxField = </span>
            new VerifiableTextField(4, true, true, new VerifyIsInteger());

    /**
     * Constructor for the advanced map settings panel.  This gives more detailed control over how the map will be
     * generated.
     *
     * @param mapSettings The settings for the map to be generated.
     */
<span class="nc" id="L225">    public RandomMapPanelAdvanced(MapSettings mapSettings) {</span>
<span class="nc" id="L226">        setMapSettings(mapSettings);</span>

<span class="nc" id="L228">        initGUI();</span>
<span class="nc" id="L229">        validate();</span>
<span class="nc" id="L230">    }</span>

    /**
     * Loads the given map settings onto this form.
     *
     * @param mapSettings The new map settings to be loaded.
     */
    public void setMapSettings(MapSettings mapSettings) {
<span class="nc bnc" id="L238" title="All 2 branches missed.">        if (mapSettings == null) {</span>
<span class="nc" id="L239">            return;</span>
        }
<span class="nc" id="L241">        this.mapSettings = mapSettings;</span>
<span class="nc" id="L242">        loadMapSettings();</span>
<span class="nc" id="L243">    }</span>

    /**
     * Update the panel controls with the values from the {@link MapSettings} object.
     */
    private void loadMapSettings() {
<span class="nc" id="L249">        riverChanceField.setText(String.valueOf(mapSettings.getProbRiver()));</span>
<span class="nc" id="L250">        iceMinField.setText(String.valueOf(mapSettings.getMinIceSpots()));</span>
<span class="nc" id="L251">        iceMaxField.setText(String.valueOf(mapSettings.getMaxIceSpots()));</span>
<span class="nc" id="L252">        iceSizeMinField.setText(String.valueOf(mapSettings.getMinIceSize()));</span>
<span class="nc" id="L253">        iceSizeMaxField.setText(String.valueOf(mapSettings.getMaxIceSize()));</span>
<span class="nc" id="L254">        freezeChanceField.setText(String.valueOf(mapSettings.getProbFreeze()));</span>
<span class="nc" id="L255">        lakesMinField.setText(String.valueOf(mapSettings.getMinWaterSpots()));</span>
<span class="nc" id="L256">        lakesMaxField.setText(String.valueOf(mapSettings.getMaxWaterSpots()));</span>
<span class="nc" id="L257">        lakeSizeMinField.setText(String.valueOf(mapSettings.getMinWaterSize()));</span>
<span class="nc" id="L258">        lakeSizeMaxField.setText(String.valueOf(mapSettings.getMaxWaterSize()));</span>
<span class="nc" id="L259">        deepChanceField.setText(String.valueOf(mapSettings.getProbDeep()));</span>
<span class="nc" id="L260">        fieldsMinField.setText(String.valueOf(mapSettings.getMinPlantedFieldSpots()));</span>
<span class="nc" id="L261">        fieldsMaxField.setText(String.valueOf(mapSettings.getMaxPlantedFieldSpots()));</span>
<span class="nc" id="L262">        fieldSizeMinField.setText(String.valueOf(mapSettings.getMinPlantedFieldSize()));</span>
<span class="nc" id="L263">        fieldSizeMaxField.setText(String.valueOf(mapSettings.getMaxPlantedFieldSize()));</span>
<span class="nc" id="L264">        rubbleMinField.setText(String.valueOf(mapSettings.getMinRubbleSpots()));</span>
<span class="nc" id="L265">        rubbleMaxField.setText(String.valueOf(mapSettings.getMaxRubbleSpots()));</span>
<span class="nc" id="L266">        rubbleSizeMinField.setText(String.valueOf(mapSettings.getMinRubbleSize()));</span>
<span class="nc" id="L267">        rubbleSizeMaxField.setText(String.valueOf(mapSettings.getMaxRubbleSize()));</span>
<span class="nc" id="L268">        roadChanceField.setText(String.valueOf(mapSettings.getProbRoad()));</span>
<span class="nc" id="L269">        pavementMinField.setText(String.valueOf(mapSettings.getMinPavementSpots()));</span>
<span class="nc" id="L270">        pavementMaxField.setText(String.valueOf(mapSettings.getMaxPavementSpots()));</span>
<span class="nc" id="L271">        pavementSizeMinField.setText(String.valueOf(mapSettings.getMinPavementSize()));</span>
<span class="nc" id="L272">        pavementSizeMaxField.setText(String.valueOf(mapSettings.getMaxPavementSize()));</span>
<span class="nc" id="L273">        fortifiedMinField.setText(String.valueOf(mapSettings.getMinFortifiedSpots()));</span>
<span class="nc" id="L274">        fortifiedMaxField.setText(String.valueOf(mapSettings.getMaxFortifiedSpots()));</span>
<span class="nc" id="L275">        fortifiedSizeMinField.setText(String.valueOf(mapSettings.getMinFortifiedSize()));</span>
<span class="nc" id="L276">        fortifiedSizeMaxField.setText(String.valueOf(mapSettings.getMaxFortifiedSize()));</span>
<span class="nc" id="L277">        cityTypeCombo.setSelectedItem(mapSettings.getCityType());</span>
<span class="nc" id="L278">        cityBlocks.setText(String.valueOf(mapSettings.getCityBlocks()));</span>
<span class="nc" id="L279">        cityCFMinField.setText(String.valueOf(mapSettings.getCityMinCF()));</span>
<span class="nc" id="L280">        cityCFMaxField.setText(String.valueOf(mapSettings.getCityMaxCF()));</span>
<span class="nc" id="L281">        cityDensityField.setText(String.valueOf(mapSettings.getCityDensity()));</span>
<span class="nc" id="L282">        cityFloorsMinField.setText(String.valueOf(mapSettings.getCityMinFloors()));</span>
<span class="nc" id="L283">        cityFloorsMaxField.setText(String.valueOf(mapSettings.getCityMaxFloors()));</span>
<span class="nc" id="L284">        townSizeField.setText(String.valueOf(mapSettings.getTownSize()));</span>
<span class="nc" id="L285">        droughtChanceField.setText(String.valueOf(mapSettings.getProbDrought()));</span>
<span class="nc" id="L286">        fireChanceField.setText(String.valueOf(mapSettings.getProbForestFire()));</span>
<span class="nc" id="L287">        floodChanceField.setText(String.valueOf(mapSettings.getProbFlood()));</span>
<span class="nc" id="L288">        specialFxField.setText(String.valueOf(mapSettings.getFxMod()));</span>
<span class="nc" id="L289">        woodsMinField.setText(String.valueOf(mapSettings.getMinForestSpots()));</span>
<span class="nc" id="L290">        woodsMaxField.setText(String.valueOf(mapSettings.getMaxForestSpots()));</span>
<span class="nc" id="L291">        woodsMinSizeField.setText(String.valueOf(mapSettings.getMinForestSize()));</span>
<span class="nc" id="L292">        woodsMaxSizeField.setText(String.valueOf(mapSettings.getMaxForestSize()));</span>
<span class="nc" id="L293">        woodsHeavyChanceField.setText(String.valueOf(mapSettings.getProbHeavy()));</span>
<span class="nc" id="L294">        foliageMinField.setText(String.valueOf(mapSettings.getMinFoliageSpots()));</span>
<span class="nc" id="L295">        foliageMaxField.setText(String.valueOf(mapSettings.getMaxFoliageSpots()));</span>
<span class="nc" id="L296">        foliageMinSizeField.setText(String.valueOf(mapSettings.getMinFoliageSize()));</span>
<span class="nc" id="L297">        foliageMaxSizeField.setText(String.valueOf(mapSettings.getMaxFoliageSize()));</span>
<span class="nc" id="L298">        foliageHeavyChanceField.setText(String.valueOf(mapSettings.getProbFoliageHeavy()));</span>
<span class="nc" id="L299">        swampsMinField.setText(String.valueOf(mapSettings.getMinSwampSpots()));</span>
<span class="nc" id="L300">        swampsMaxField.setText(String.valueOf(mapSettings.getMaxSwampSpots()));</span>
<span class="nc" id="L301">        swampsMinSizeField.setText(String.valueOf(mapSettings.getMinSwampSize()));</span>
<span class="nc" id="L302">        swampsMaxSizeField.setText(String.valueOf(mapSettings.getMaxSwampSize()));</span>
<span class="nc" id="L303">        sandsMinField.setText(String.valueOf(mapSettings.getMinSandSpots()));</span>
<span class="nc" id="L304">        sandsMaxField.setText(String.valueOf(mapSettings.getMaxSandSpots()));</span>
<span class="nc" id="L305">        sandsSizeMinField.setText(String.valueOf(mapSettings.getMinSandSize()));</span>
<span class="nc" id="L306">        sandsSizeMaxField.setText(String.valueOf(mapSettings.getMaxSandSize()));</span>
<span class="nc" id="L307">        roughsMinField.setText(String.valueOf(mapSettings.getMinRoughSpots()));</span>
<span class="nc" id="L308">        roughsMaxField.setText(String.valueOf(mapSettings.getMaxRoughSpots()));</span>
<span class="nc" id="L309">        roughsMinSizeField.setText(String.valueOf(mapSettings.getMinRoughSize()));</span>
<span class="nc" id="L310">        roughsMaxSizeField.setText(String.valueOf(mapSettings.getMaxRoughSize()));</span>
<span class="nc" id="L311">        craterChanceField.setText(String.valueOf(mapSettings.getProbCrater()));</span>
<span class="nc" id="L312">        craterAmountMinField.setText(String.valueOf(mapSettings.getMinCraters()));</span>
<span class="nc" id="L313">        craterAmountMaxField.setText(String.valueOf(mapSettings.getMaxCraters()));</span>
<span class="nc" id="L314">        craterSizeMinField.setText(String.valueOf(mapSettings.getMinRadius()));</span>
<span class="nc" id="L315">        craterSizeMaxField.setText(String.valueOf(mapSettings.getMaxRadius()));</span>
<span class="nc" id="L316">        elevationPeaksField.setText(String.valueOf(mapSettings.getMountainPeaks()));</span>
<span class="nc" id="L317">        MountainStyle style = MountainStyle.getMountainStyle(mapSettings.getMountainStyle());</span>
<span class="nc" id="L318">        mountainStyleCombo.setSelectedItem(style.getDescription());</span>
<span class="nc" id="L319">        mountainHeightMinField.setText(String.valueOf(mapSettings.getMountainHeightMin()));</span>
<span class="nc" id="L320">        mountainHeightMaxField.setText(String.valueOf(mapSettings.getMountainHeightMax()));</span>
<span class="nc" id="L321">        mountainWidthMinField.setText(String.valueOf(mapSettings.getMountainWidthMin()));</span>
<span class="nc" id="L322">        mountainWidthMaxField.setText(String.valueOf(mapSettings.getMountainWidthMax()));</span>
<span class="nc" id="L323">        elevationAlgorithmField.setText(String.valueOf(mapSettings.getAlgorithmToUse()));</span>
<span class="nc" id="L324">        hillinessField.setText(String.valueOf(mapSettings.getHilliness()));</span>
<span class="nc" id="L325">        elevationRangeField.setText(String.valueOf(mapSettings.getRange()));</span>
<span class="nc" id="L326">        elevationCliffsField.setText(String.valueOf(mapSettings.getCliffs()));</span>
<span class="nc" id="L327">        elevationInversionField.setText(String.valueOf(mapSettings.getProbInvert()));</span>
<span class="nc bnc" id="L328" title="All 2 branches missed.">        invertNegativeCheck.setSelected(mapSettings.getInvertNegativeTerrain() == 1);</span>
<span class="nc" id="L329">    }</span>

    private void initGUI() {
        // Let each tab have it's own scroll bar.

<span class="nc" id="L334">        JScrollPane civilizedFeaturesPanel = setupCivilizedPanel();</span>
<span class="nc" id="L335">        tabbedPane.addTab(Messages.getString(&quot;RandomMapDialog.tabCivilization&quot;), civilizedFeaturesPanel);</span>

<span class="nc" id="L337">        JScrollPane elevationPanel = setupElevationPanel();</span>
<span class="nc" id="L338">        tabbedPane.addTab(Messages.getString(&quot;RandomMapDialog.tabElevation&quot;), elevationPanel);</span>

<span class="nc" id="L340">        JScrollPane naturalFeaturesPanel = setupNaturalFeaturesPanel();</span>
<span class="nc" id="L341">        tabbedPane.addTab(Messages.getString(&quot;RandomMapDialog.tabNatural&quot;), naturalFeaturesPanel);</span>

<span class="nc" id="L343">        JScrollPane effectsPanel = setupEffectsPanel();</span>
<span class="nc" id="L344">        tabbedPane.addTab(Messages.getString(&quot;RandomMapDialog.tabEffects&quot;), effectsPanel);</span>

<span class="nc" id="L346">        JScrollPane waterPanel = setupWaterPanel();</span>
<span class="nc" id="L347">        tabbedPane.addTab(Messages.getString(&quot;RandomMapDialog.tabWater&quot;), waterPanel);</span>

<span class="nc" id="L349">        tabbedPane.setSelectedComponent(civilizedFeaturesPanel);</span>
<span class="nc" id="L350">        setLayout(new BorderLayout());</span>
<span class="nc" id="L351">        add(tabbedPane, BorderLayout.CENTER);</span>
<span class="nc" id="L352">    }</span>

    private JScrollPane setupWaterPanel() {
<span class="nc" id="L355">        JPanel panel = new JPanel();</span>
<span class="nc" id="L356">        panel.setLayout(new BoxLayout(panel, BoxLayout.PAGE_AXIS));</span>

<span class="nc" id="L358">        panel.add(setupLakesPanel());</span>
<span class="nc" id="L359">        panel.add(setupRiverPanel());</span>
<span class="nc" id="L360">        panel.add(setupIcePanel());</span>

<span class="nc" id="L362">        return new JScrollPane(panel);</span>
    }

    private JPanel setupRiverPanel() {
<span class="nc" id="L366">        JPanel panel = new FeaturePanel(new SpringLayout());</span>
        
<span class="nc" id="L368">        JLabel riverChanceLabel = new JLabel(Messages.getString(&quot;RandomMapDialog.labProbRiver&quot;));</span>
<span class="nc" id="L369">        panel.add(riverChanceLabel);</span>
<span class="nc" id="L370">        riverChanceField.setToolTipText(Messages.getString(&quot;RandomMapDialog.riverChanceField.toolTip&quot;));</span>
<span class="nc" id="L371">        panel.add(riverChanceField);</span>

<span class="nc" id="L373">        panel.setBorder(new TitledBorder(new LineBorder(Color.black, 1),</span>
<span class="nc" id="L374">                                         Messages.getString(&quot;RandomMapDialog.borderRiver&quot;)));</span>
<span class="nc" id="L375">        RandomMapPanelBasic.makeCompactGrid(panel, 1, 2, 6, 6, 6, 6);</span>
<span class="nc" id="L376">        return panel;</span>
    }

    private JPanel setupIcePanel() {
<span class="nc" id="L380">        JPanel panel = new FeaturePanel(new SpringLayout());</span>

<span class="nc" id="L382">        JLabel iceLabel = new JLabel(Messages.getString(&quot;RandomMapDialog.labIceSpots&quot;));</span>
<span class="nc" id="L383">        panel.add(iceLabel);</span>
<span class="nc" id="L384">        iceMinField.setToolTipText(Messages.getString(&quot;RandomMapDialog.iceMinField.toolTip&quot;));</span>
<span class="nc" id="L385">        panel.add(iceMinField);</span>

<span class="nc" id="L387">        JLabel iceToLabel = new JLabel(Messages.getString(&quot;to&quot;));</span>
<span class="nc" id="L388">        panel.add(iceToLabel);</span>
<span class="nc" id="L389">        iceMaxField.setToolTipText(Messages.getString(&quot;RandomMapDialog.iceMaxField.toolTip&quot;));</span>
<span class="nc" id="L390">        panel.add(iceMaxField);</span>

<span class="nc" id="L392">        JLabel iceSizeLabel = new JLabel(Messages.getString(&quot;RandomMapDialog.labIceSize&quot;));</span>
<span class="nc" id="L393">        panel.add(iceSizeLabel);</span>
<span class="nc" id="L394">        iceSizeMinField.setToolTipText(Messages.getString(&quot;RandomMapDialog.iceSizeMinField.toolTip&quot;));</span>
<span class="nc" id="L395">        panel.add(iceSizeMinField);</span>

<span class="nc" id="L397">        JLabel iceSizeToLabel = new JLabel(Messages.getString(&quot;to&quot;));</span>
<span class="nc" id="L398">        panel.add(iceSizeToLabel);</span>
<span class="nc" id="L399">        iceSizeMaxField.setToolTipText(Messages.getString(&quot;RandomMapDialog.iceSizeMaxField.toolTip&quot;));</span>
<span class="nc" id="L400">        panel.add(iceSizeMaxField);</span>

<span class="nc" id="L402">        JLabel frozenWaterLabel = new JLabel(Messages.getString(&quot;RandomMapDialog.labProbFreeze&quot;));</span>
<span class="nc" id="L403">        panel.add(frozenWaterLabel);</span>
<span class="nc" id="L404">        freezeChanceField.setToolTipText(Messages.getString(&quot;RandomMapDialog.freezeChanceField.toolTip&quot;));</span>
<span class="nc" id="L405">        panel.add(freezeChanceField);</span>
<span class="nc" id="L406">        panel.add(new JLabel());</span>
<span class="nc" id="L407">        panel.add(new JLabel());</span>

<span class="nc" id="L409">        panel.setBorder(new TitledBorder(new LineBorder(Color.black, 1),</span>
<span class="nc" id="L410">                                         Messages.getString(&quot;RandomMapDialog.borderIce&quot;)));</span>

<span class="nc" id="L412">        RandomMapPanelBasic.makeCompactGrid(panel, 3, 4, 6, 6, 6, 6);</span>
<span class="nc" id="L413">        return panel;</span>
    }

    private JPanel setupLakesPanel() {
<span class="nc" id="L417">        JPanel panel = new FeaturePanel(new SpringLayout());</span>

<span class="nc" id="L419">        JLabel lakesLabel = new JLabel(Messages.getString(&quot;RandomMapDialog.labWaterSpots&quot;));</span>
<span class="nc" id="L420">        panel.add(lakesLabel);</span>
<span class="nc" id="L421">        lakesMinField.setToolTipText(Messages.getString(&quot;RandomMapDialog.lakesMinField.toolTip&quot;));</span>
<span class="nc" id="L422">        panel.add(lakesMinField);</span>
<span class="nc" id="L423">        JLabel lakesToLabel = new JLabel(Messages.getString(&quot;to&quot;));</span>
<span class="nc" id="L424">        panel.add(lakesToLabel);</span>
<span class="nc" id="L425">        lakesMaxField.setToolTipText(Messages.getString(&quot;RandomMapDialog.lakesMaxField.toolTip&quot;));</span>
<span class="nc" id="L426">        panel.add(lakesMaxField);</span>

<span class="nc" id="L428">        JLabel lakeSizeLabel = new JLabel(Messages.getString(&quot;RandomMapDialog.labWaterSize&quot;));</span>
<span class="nc" id="L429">        panel.add(lakeSizeLabel);</span>
<span class="nc" id="L430">        lakeSizeMinField.setToolTipText(Messages.getString(&quot;RandomMapDialog.lakeSizeMinField.toolTip&quot;));</span>
<span class="nc" id="L431">        panel.add(lakeSizeMinField);</span>
<span class="nc" id="L432">        JLabel lakeSizeToLabel = new JLabel(Messages.getString(&quot;to&quot;));</span>
<span class="nc" id="L433">        panel.add(lakeSizeToLabel);</span>
<span class="nc" id="L434">        lakeSizeMaxField.setToolTipText(Messages.getString(&quot;RandomMapDialog.lakeSizeMaxField.toolTip&quot;));</span>
<span class="nc" id="L435">        panel.add(lakeSizeMaxField);</span>
<span class="nc" id="L436">        JLabel deepWaterLabel = new JLabel(Messages.getString(&quot;RandomMapDialog.labProbDeep&quot;));</span>
<span class="nc" id="L437">        panel.add(deepWaterLabel);</span>

<span class="nc" id="L439">        deepChanceField.setToolTipText(Messages.getString(&quot;RandomMapDialog.deepChanceField.toolTip&quot;));</span>
<span class="nc" id="L440">        panel.add(deepChanceField);</span>
<span class="nc" id="L441">        panel.add(new JLabel());</span>
<span class="nc" id="L442">        panel.add(new JLabel());</span>

<span class="nc" id="L444">        panel.setBorder(new TitledBorder(new LineBorder(Color.black, 1),</span>
<span class="nc" id="L445">                                         Messages.getString(&quot;RandomMapDialog.borderLakes&quot;)));</span>

<span class="nc" id="L447">        RandomMapPanelBasic.makeCompactGrid(panel, 3, 4, 6, 6, 6, 6);</span>
<span class="nc" id="L448">        return panel;</span>
    }

    private JScrollPane setupCivilizedPanel() {
<span class="nc" id="L452">        JPanel panel = new JPanel();</span>
<span class="nc" id="L453">        panel.setLayout(new BoxLayout(panel, BoxLayout.PAGE_AXIS));</span>

<span class="nc" id="L455">        panel.add(setupCityPanel());</span>
<span class="nc" id="L456">        panel.add(setupFortifiedPanel());</span>
<span class="nc" id="L457">        panel.add(setupPavementPanel());</span>
<span class="nc" id="L458">        panel.add(setupFieldsPanel());</span>
<span class="nc" id="L459">        panel.add(setupRoadPanel());</span>
<span class="nc" id="L460">        panel.add(setupRubblePanel());</span>

<span class="nc" id="L462">        return new JScrollPane(panel);</span>
    }

    private JPanel setupFieldsPanel() {
<span class="nc" id="L466">        JPanel panel = new FeaturePanel(new SpringLayout());</span>

<span class="nc" id="L468">        JLabel fieldsSpotsLabel = new JLabel(Messages.getString(&quot;RandomMapDialog.labPlantedFieldSpots&quot;));</span>
<span class="nc" id="L469">        panel.add(fieldsSpotsLabel);</span>
<span class="nc" id="L470">        fieldsMinField.setToolTipText(Messages.getString(&quot;RandomMapDialog.fieldsMinField.toolTip&quot;));</span>
<span class="nc" id="L471">        panel.add(fieldsMinField);</span>
<span class="nc" id="L472">        JLabel fieldsSpotsToLabel = new JLabel(Messages.getString(&quot;to&quot;));</span>
<span class="nc" id="L473">        panel.add(fieldsSpotsToLabel);</span>
<span class="nc" id="L474">        fieldsMaxField.setToolTipText(Messages.getString(&quot;RandomMapDialog.fieldsMaxField.toolTip&quot;));</span>
<span class="nc" id="L475">        panel.add(fieldsMaxField);</span>

<span class="nc" id="L477">        JLabel fieldsSizeLabel = new JLabel(Messages.getString(&quot;RandomMapDialog.labPlantedFieldSize&quot;));</span>
<span class="nc" id="L478">        panel.add(fieldsSizeLabel);</span>
<span class="nc" id="L479">        fieldSizeMinField.setToolTipText(Messages.getString(&quot;RandomMapDialog.fieldSizeMinField.toolTip&quot;));</span>
<span class="nc" id="L480">        panel.add(fieldSizeMinField);</span>
<span class="nc" id="L481">        JLabel fieldSizeToLabel = new JLabel(Messages.getString(&quot;to&quot;));</span>
<span class="nc" id="L482">        panel.add(fieldSizeToLabel);</span>
<span class="nc" id="L483">        fieldSizeMaxField.setToolTipText(Messages.getString(&quot;RandomMapDialog.fieldSizeMaxField.toolTip&quot;));</span>
<span class="nc" id="L484">        panel.add(fieldSizeMaxField);</span>

<span class="nc" id="L486">        panel.setBorder(new TitledBorder(new LineBorder(Color.black, 2),</span>
<span class="nc" id="L487">                                         Messages.getString(&quot;RandomMapDialog.borderFields&quot;)));</span>

<span class="nc" id="L489">        RandomMapPanelBasic.makeCompactGrid(panel, 2, 4, 6, 6, 6, 6);</span>
<span class="nc" id="L490">        return panel;</span>
    }

    private JPanel setupRubblePanel() {
<span class="nc" id="L494">        JPanel panel = new FeaturePanel(new SpringLayout());</span>

<span class="nc" id="L496">        JLabel rubbleSpotsLabel = new JLabel(Messages.getString(&quot;RandomMapDialog.labRubbleSpots&quot;));</span>
<span class="nc" id="L497">        panel.add(rubbleSpotsLabel);</span>
<span class="nc" id="L498">        rubbleMinField.setToolTipText(Messages.getString(&quot;RandomMapDialog.rubbleMinField.toolTip&quot;));</span>
<span class="nc" id="L499">        panel.add(rubbleMinField);</span>
<span class="nc" id="L500">        JLabel rubbleSpotsToLabel = new JLabel(Messages.getString(&quot;to&quot;));</span>
<span class="nc" id="L501">        panel.add(rubbleSpotsToLabel);</span>
<span class="nc" id="L502">        rubbleMaxField.setToolTipText(Messages.getString(&quot;RandomMapDialog.rubbleMaxField.toolTip&quot;));</span>
<span class="nc" id="L503">        panel.add(rubbleMaxField);</span>

<span class="nc" id="L505">        JLabel rubbleSizeLabel = new JLabel(Messages.getString(&quot;RandomMapDialog.labRubbleSize&quot;));</span>
<span class="nc" id="L506">        panel.add(rubbleSizeLabel);</span>
<span class="nc" id="L507">        rubbleSizeMinField.setToolTipText(Messages.getString(&quot;RandomMapDialog.rubbleSizeMinField.toolTip&quot;));</span>
<span class="nc" id="L508">        panel.add(rubbleSizeMinField);</span>
<span class="nc" id="L509">        JLabel rubbleSizeToLabel = new JLabel(Messages.getString(&quot;to&quot;));</span>
<span class="nc" id="L510">        panel.add(rubbleSizeToLabel);</span>
<span class="nc" id="L511">        rubbleSizeMaxField.setToolTipText(Messages.getString(&quot;RandomMapDialog.rubbleSizeMaxField.toolTip&quot;));</span>
<span class="nc" id="L512">        panel.add(rubbleSizeMaxField);</span>

<span class="nc" id="L514">        panel.setBorder(new TitledBorder(new LineBorder(Color.black, 2),</span>
<span class="nc" id="L515">                                         Messages.getString(&quot;RandomMapDialog.borderRubble&quot;)));</span>

<span class="nc" id="L517">        RandomMapPanelBasic.makeCompactGrid(panel, 2, 4, 6, 6, 6, 6);</span>
<span class="nc" id="L518">        return panel;</span>
    }

    private JPanel setupRoadPanel() {
<span class="nc" id="L522">        JPanel panel = new FeaturePanel(new SpringLayout());</span>

<span class="nc" id="L524">        JLabel roadChanceLabel = new JLabel(Messages.getString(&quot;RandomMapDialog.labProbRoad&quot;));</span>
<span class="nc" id="L525">        panel.add(roadChanceLabel);</span>
<span class="nc" id="L526">        roadChanceField.setToolTipText(Messages.getString(&quot;RandomMapDialog.roadChanceField.toolTip&quot;));</span>
<span class="nc" id="L527">        panel.add(roadChanceField);</span>

<span class="nc" id="L529">        panel.setBorder(new TitledBorder(new LineBorder(Color.black, 2),</span>
<span class="nc" id="L530">                                         Messages.getString(&quot;RandomMapDialog.borderRoad&quot;)));</span>
<span class="nc" id="L531">        RandomMapPanelBasic.makeCompactGrid(panel, 1, 2, 6, 6, 6, 6);</span>
<span class="nc" id="L532">        return panel;</span>
    }

    private JPanel setupPavementPanel() {
<span class="nc" id="L536">        JPanel panel = new FeaturePanel(new SpringLayout());</span>

<span class="nc" id="L538">        JLabel pavementSpotsLabel = new JLabel(Messages.getString(&quot;RandomMapDialog.labPavementSpots&quot;));</span>
<span class="nc" id="L539">        panel.add(pavementSpotsLabel);</span>
<span class="nc" id="L540">        pavementMinField.setToolTipText(Messages.getString(&quot;RandomMapDialog.pavementMinField.toolTip&quot;));</span>
<span class="nc" id="L541">        panel.add(pavementMinField);</span>
<span class="nc" id="L542">        JLabel pavementSpotsToLabel = new JLabel(Messages.getString(&quot;to&quot;));</span>
<span class="nc" id="L543">        panel.add(pavementSpotsToLabel);</span>
<span class="nc" id="L544">        pavementMaxField.setToolTipText(Messages.getString(&quot;RandomMapDialog.pavementMaxField.toolTip&quot;));</span>
<span class="nc" id="L545">        panel.add(pavementMaxField);</span>

<span class="nc" id="L547">        JLabel pavementSizeLabel = new JLabel(Messages.getString(&quot;RandomMapDialog.labPavementSize&quot;));</span>
<span class="nc" id="L548">        panel.add(pavementSizeLabel);</span>
<span class="nc" id="L549">        pavementSizeMinField.setToolTipText(Messages.getString(&quot;RandomMapDialog.pavementSizeMinField.toolTip&quot;));</span>
<span class="nc" id="L550">        panel.add(pavementSizeMinField);</span>
<span class="nc" id="L551">        JLabel pavementSizeToLabel = new JLabel(Messages.getString(&quot;to&quot;));</span>
<span class="nc" id="L552">        panel.add(pavementSizeToLabel);</span>
<span class="nc" id="L553">        pavementSizeMaxField.setToolTipText(Messages.getString(&quot;RandomMapDialog.pavementSizeMaxField.toolTip&quot;));</span>
<span class="nc" id="L554">        panel.add(pavementSizeMaxField);</span>

<span class="nc" id="L556">        panel.setBorder(new TitledBorder(new LineBorder(Color.black, 2),</span>
<span class="nc" id="L557">                                         Messages.getString(&quot;RandomMapDialog.borderPavement&quot;)));</span>

<span class="nc" id="L559">        RandomMapPanelBasic.makeCompactGrid(panel, 2, 4, 6, 6, 6, 6);</span>
<span class="nc" id="L560">        return panel;</span>
    }

    private JPanel setupFortifiedPanel() {
<span class="nc" id="L564">        JPanel panel = new FeaturePanel(new SpringLayout());</span>

<span class="nc" id="L566">        JLabel numberFortifiedLabel = new JLabel(Messages.getString(&quot;RandomMapDialog.labFortifiedSpots&quot;));</span>
<span class="nc" id="L567">        panel.add(numberFortifiedLabel);</span>
<span class="nc" id="L568">        fortifiedMinField.setToolTipText(Messages.getString(&quot;RandomMapDialog.fortifiedMinField.toolTip&quot;));</span>
<span class="nc" id="L569">        panel.add(fortifiedMinField);</span>
<span class="nc" id="L570">        JLabel numberFortifiedToLabel = new JLabel(Messages.getString(&quot;to&quot;));</span>
<span class="nc" id="L571">        panel.add(numberFortifiedToLabel);</span>
<span class="nc" id="L572">        fortifiedMaxField.setToolTipText(Messages.getString(&quot;RandomMapDialog.fortifiedMaxField.toolTip&quot;));</span>
<span class="nc" id="L573">        panel.add(fortifiedMaxField);</span>

<span class="nc" id="L575">        JLabel sizeFortifiedLabel = new JLabel(Messages.getString(&quot;RandomMapDialog.labFortifiedSize&quot;));</span>
<span class="nc" id="L576">        panel.add(sizeFortifiedLabel);</span>
<span class="nc" id="L577">        fortifiedSizeMinField.setToolTipText(Messages.getString(&quot;RandomMapDialog.fortifiedSizeMinField.toolTip&quot;));</span>
<span class="nc" id="L578">        panel.add(fortifiedSizeMinField);</span>
<span class="nc" id="L579">        JLabel sizeFortifiedToLabel = new JLabel(Messages.getString(&quot;to&quot;));</span>
<span class="nc" id="L580">        panel.add(sizeFortifiedToLabel);</span>
<span class="nc" id="L581">        fortifiedSizeMaxField.setToolTipText(Messages.getString(&quot;RandomMapDialog.fortifiedSizeMaxField.toolTip&quot;));</span>
<span class="nc" id="L582">        panel.add(fortifiedSizeMaxField);</span>

<span class="nc" id="L584">        panel.setBorder(new TitledBorder(new LineBorder(Color.black, 2),</span>
<span class="nc" id="L585">                                         Messages.getString(&quot;RandomMapDialog.borderFortified&quot;)));</span>

<span class="nc" id="L587">        RandomMapPanelBasic.makeCompactGrid(panel, 2, 4, 6, 6, 6, 6);</span>
<span class="nc" id="L588">        return panel;</span>
    }

    private JPanel setupCityPanel() {
<span class="nc" id="L592">        JPanel panel = new FeaturePanel(new SpringLayout());</span>

<span class="nc" id="L594">        JLabel cityTypeLabel = new JLabel(Messages.getString(&quot;RandomMapDialog.labCity&quot;));</span>
<span class="nc" id="L595">        panel.add(cityTypeLabel);</span>
<span class="nc" id="L596">        cityTypeCombo.setToolTipText(Messages.getString(&quot;RandomMapDialog.cityTypeCombo.toolTip&quot;));</span>
<span class="nc" id="L597">        panel.add(cityTypeCombo);</span>
<span class="nc" id="L598">        panel.add(new JLabel());</span>
<span class="nc" id="L599">        panel.add(new JLabel());</span>

<span class="nc" id="L601">        JLabel cityBlocksLabel = new JLabel(Messages.getString(&quot;RandomMapDialog.labCityBlocks&quot;));</span>
<span class="nc" id="L602">        panel.add(cityBlocksLabel);</span>
<span class="nc" id="L603">        cityBlocks.addVerifier(new VerifyIsPositiveInteger());</span>
<span class="nc" id="L604">        cityBlocks.setToolTipText(Messages.getString(&quot;RandomMapDialog.cityBlocks.toolTip&quot;));</span>
<span class="nc" id="L605">        panel.add(cityBlocks);</span>
<span class="nc" id="L606">        panel.add(new JLabel());</span>
<span class="nc" id="L607">        panel.add(new JLabel());</span>

<span class="nc" id="L609">        JLabel cityCFLabel = new JLabel(Messages.getString(&quot;RandomMapDialog.labCityCF&quot;));</span>
<span class="nc" id="L610">        panel.add(cityCFLabel);</span>
<span class="nc" id="L611">        cityCFMinField.setToolTipText(Messages.getString(&quot;RandomMapDialog.cityCFMinField.toolTip&quot;));</span>
<span class="nc" id="L612">        panel.add(cityCFMinField);</span>

<span class="nc" id="L614">        JLabel cityCFToLabel = new JLabel(Messages.getString(&quot;to&quot;));</span>
<span class="nc" id="L615">        panel.add(cityCFToLabel);</span>
<span class="nc" id="L616">        cityCFMaxField.setToolTipText(Messages.getString(&quot;RandomMapDialog.cityCFMaxField.toolTip&quot;));</span>
<span class="nc" id="L617">        panel.add(cityCFMaxField);</span>

<span class="nc" id="L619">        JLabel cityDensityLabel = new JLabel(Messages.getString(&quot;RandomMapDialog.labCityDensity&quot;));</span>
<span class="nc" id="L620">        panel.add(cityDensityLabel);</span>
<span class="nc" id="L621">        cityDensityField.setToolTipText(Messages.getString(&quot;RandomMapDialog.cityDensityField.toolTip&quot;));</span>
<span class="nc" id="L622">        panel.add(cityDensityField);</span>
<span class="nc" id="L623">        panel.add(new JLabel());</span>
<span class="nc" id="L624">        panel.add(new JLabel());</span>

<span class="nc" id="L626">        JLabel cityFloorsLabel = new JLabel(Messages.getString(&quot;RandomMapDialog.labCityFloors&quot;));</span>
<span class="nc" id="L627">        panel.add(cityFloorsLabel);</span>
<span class="nc" id="L628">        cityFloorsMinField.setToolTipText(Messages.getString(&quot;RandomMapDialog.cityFloorsMinField.toolTip&quot;));</span>
<span class="nc" id="L629">        panel.add(cityFloorsMinField);</span>

<span class="nc" id="L631">        JLabel cityFloorsToLabel = new JLabel(Messages.getString(&quot;to&quot;));</span>
<span class="nc" id="L632">        panel.add(cityFloorsToLabel);</span>
<span class="nc" id="L633">        cityFloorsMaxField.setToolTipText(Messages.getString(&quot;RandomMapDialog.cityFloorsMaxField.toolTip&quot;));</span>
<span class="nc" id="L634">        panel.add(cityFloorsMaxField);</span>

<span class="nc" id="L636">        JLabel townSizeLabel = new JLabel(Messages.getString(&quot;RandomMapDialog.labTownSize&quot;));</span>
<span class="nc" id="L637">        panel.add(townSizeLabel);</span>
<span class="nc" id="L638">        townSizeField.setToolTipText(Messages.getString(&quot;RandomMapDialog.townSizeField.toolTip&quot;));</span>
<span class="nc" id="L639">        panel.add(townSizeField);</span>
<span class="nc" id="L640">        panel.add(new JLabel());</span>
<span class="nc" id="L641">        panel.add(new JLabel());</span>

<span class="nc" id="L643">        panel.setBorder(new TitledBorder(new LineBorder(Color.black, 1),</span>
<span class="nc" id="L644">                                         Messages.getString(&quot;RandomMapDialog.borderCity&quot;)));</span>

<span class="nc" id="L646">        RandomMapPanelBasic.makeCompactGrid(panel, 6, 4, 6, 6, 6, 6);</span>
<span class="nc" id="L647">        return panel;</span>
    }

    private JScrollPane setupEffectsPanel() {
<span class="nc" id="L651">        JPanel panel = new JPanel(new SpringLayout());</span>

<span class="nc" id="L653">        JLabel droughtLabel = new JLabel(Messages.getString(&quot;RandomMapDialog.labProbDrought&quot;));</span>
<span class="nc" id="L654">        panel.add(droughtLabel);</span>
<span class="nc" id="L655">        droughtChanceField.setToolTipText(Messages.getString(&quot;RandomMapDialog.droughtChanceField.toolTip&quot;));</span>
<span class="nc" id="L656">        panel.add(droughtChanceField);</span>
        
<span class="nc" id="L658">        JLabel fireLabel = new JLabel(Messages.getString(&quot;RandomMapDialog.labProbFire&quot;));</span>
<span class="nc" id="L659">        panel.add(fireLabel);</span>
<span class="nc" id="L660">        fireChanceField.setToolTipText(Messages.getString(&quot;RandomMapDialog.fireChanceField.toolTip&quot;));</span>
<span class="nc" id="L661">        panel.add(fireChanceField);</span>
        
<span class="nc" id="L663">        JLabel floodLabel = new JLabel(Messages.getString(&quot;RandomMapDialog.labProbFlood&quot;));</span>
<span class="nc" id="L664">        panel.add(floodLabel);</span>
<span class="nc" id="L665">        floodChanceField.setToolTipText(Messages.getString(&quot;RandomMapDialog.floodChanceField.toolTip&quot;));</span>
<span class="nc" id="L666">        panel.add(floodChanceField);</span>
        
<span class="nc" id="L668">        JLabel fxLabel = new JLabel(Messages.getString(&quot;RandomMapDialog.labFxMod&quot;));</span>
<span class="nc" id="L669">        panel.add(fxLabel);</span>
<span class="nc" id="L670">        specialFxField.setToolTipText(Messages.getString(&quot;RandomMapDialog.specialFxField.toolTip&quot;));</span>
<span class="nc" id="L671">        panel.add(specialFxField);</span>

<span class="nc" id="L673">        RandomMapPanelBasic.makeCompactGrid(panel, 4, 2, 6, 6, 6, 6);</span>
<span class="nc" id="L674">        return new JScrollPane(panel);</span>
    }

    private JScrollPane setupNaturalFeaturesPanel() {
<span class="nc" id="L678">        JPanel panel = new JPanel();</span>
<span class="nc" id="L679">        panel.setLayout(new BoxLayout(panel, BoxLayout.PAGE_AXIS));</span>

<span class="nc" id="L681">        panel.add(setupRoughsPanel());</span>
<span class="nc" id="L682">        panel.add(setupSandsPanel());</span>
<span class="nc" id="L683">        panel.add(setupSwampsPanel());</span>
<span class="nc" id="L684">        panel.add(setupWoodsPanel());</span>
<span class="nc" id="L685">        panel.add(setupFoliagePanel());</span>

<span class="nc" id="L687">        return new JScrollPane(panel);</span>
    }

    private JPanel setupWoodsPanel() {
<span class="nc" id="L691">        JPanel panel = new FeaturePanel(new SpringLayout());</span>
        
<span class="nc" id="L693">        JLabel numberWoodsLabel = new JLabel(Messages.getString(&quot;RandomMapDialog.labForestSpots&quot;));</span>
<span class="nc" id="L694">        panel.add(numberWoodsLabel);</span>
<span class="nc" id="L695">        woodsMinField.setToolTipText(Messages.getString(&quot;RandomMapDialog.woodsMinField.toolTip&quot;));</span>
<span class="nc" id="L696">        panel.add(woodsMinField);</span>
<span class="nc" id="L697">        JLabel numberWoodsToLabel = new JLabel(Messages.getString(&quot;to&quot;));</span>
<span class="nc" id="L698">        panel.add(numberWoodsToLabel);</span>
<span class="nc" id="L699">        woodsMaxField.setToolTipText(Messages.getString(&quot;RandomMapDialog.woodsMaxField.toolTip&quot;));</span>
<span class="nc" id="L700">        panel.add(woodsMaxField);</span>

<span class="nc" id="L702">        JLabel sizesWoodsLabel = new JLabel(Messages.getString(&quot;RandomMapDialog.labSwampSize&quot;));</span>
<span class="nc" id="L703">        panel.add(sizesWoodsLabel);</span>
<span class="nc" id="L704">        woodsMinSizeField.setToolTipText(Messages.getString(&quot;RandomMapDialog.woodsMinSizeField.toolTip&quot;));</span>
<span class="nc" id="L705">        panel.add(woodsMinSizeField);</span>
<span class="nc" id="L706">        JLabel sizeWoodsToLabel = new JLabel(Messages.getString(&quot;to&quot;));</span>
<span class="nc" id="L707">        panel.add(sizeWoodsToLabel);</span>
<span class="nc" id="L708">        woodsMaxSizeField.setToolTipText(Messages.getString(&quot;RandomMapDialog.woodsMaxSizeField.toolTip&quot;));</span>
<span class="nc" id="L709">        panel.add(woodsMaxSizeField);</span>

<span class="nc" id="L711">        JLabel heavyWoodsLabel = new JLabel(Messages.getString(&quot;RandomMapDialog.labProbHeavy&quot;));</span>
<span class="nc" id="L712">        panel.add(heavyWoodsLabel);</span>
<span class="nc" id="L713">        woodsHeavyChanceField.setToolTipText(Messages.getString(&quot;RandomMapDialog.woodsHeavyChanceField.toolTip&quot;));</span>
<span class="nc" id="L714">        panel.add(woodsHeavyChanceField);</span>
<span class="nc" id="L715">        panel.add(new JLabel());</span>
<span class="nc" id="L716">        panel.add(new JLabel());</span>

<span class="nc" id="L718">        panel.setBorder(new TitledBorder(new LineBorder(Color.black, 1),</span>
<span class="nc" id="L719">                                         Messages.getString(&quot;RandomMapDialog.borderWoods&quot;)));</span>
<span class="nc" id="L720">        RandomMapPanelBasic.makeCompactGrid(panel, 3, 4, 6, 6, 6, 6);</span>
<span class="nc" id="L721">        return panel;</span>
    }
    
    private class FeaturePanel extends JPanel {
        private static final long serialVersionUID = 2064014325837995657L;

<span class="nc" id="L727">        public FeaturePanel(LayoutManager layout) {</span>
<span class="nc" id="L728">            super(layout);</span>
<span class="nc" id="L729">        }</span>
        
        @Override
        public Dimension getMaximumSize() {
            // Make this Panel not stretch vertically
<span class="nc" id="L734">            Dimension size = getPreferredSize();</span>
<span class="nc" id="L735">            Dimension maxSize = super.getMaximumSize();</span>
<span class="nc" id="L736">            return new Dimension(maxSize.width, size.height);</span>
        }        
    }
    
    private JPanel setupFoliagePanel() {
<span class="nc" id="L741">        JPanel panel = new FeaturePanel(new SpringLayout());</span>
        
<span class="nc" id="L743">        JLabel numberWoodsLabel = new JLabel(Messages.getString(&quot;RandomMapDialog.labFoliageSpots&quot;));</span>
<span class="nc" id="L744">        panel.add(numberWoodsLabel);</span>
<span class="nc" id="L745">        foliageMinField.setToolTipText(Messages.getString(&quot;RandomMapDialog.foliageMinField.toolTip&quot;));</span>
<span class="nc" id="L746">        panel.add(foliageMinField);</span>
<span class="nc" id="L747">        panel.add(new JLabel(Messages.getString(&quot;to&quot;)));</span>
<span class="nc" id="L748">        foliageMaxField.setToolTipText(Messages.getString(&quot;RandomMapDialog.foliageMaxField.toolTip&quot;));</span>
<span class="nc" id="L749">        panel.add(foliageMaxField);</span>

<span class="nc" id="L751">        JLabel sizesWoodsLabel = new JLabel(Messages.getString(&quot;RandomMapDialog.labFoliageSize&quot;));</span>
<span class="nc" id="L752">        panel.add(sizesWoodsLabel);</span>
<span class="nc" id="L753">        foliageMinSizeField.setToolTipText(Messages.getString(&quot;RandomMapDialog.foliageMinSizeField.toolTip&quot;));</span>
<span class="nc" id="L754">        panel.add(foliageMinSizeField);</span>
<span class="nc" id="L755">        panel.add(new JLabel(Messages.getString(&quot;to&quot;)));</span>
<span class="nc" id="L756">        foliageMaxSizeField.setToolTipText(Messages.getString(&quot;RandomMapDialog.foliageMaxSizeField.toolTip&quot;));</span>
<span class="nc" id="L757">        panel.add(foliageMaxSizeField);</span>

<span class="nc" id="L759">        JLabel heavyWoodsLabel = new JLabel(Messages.getString(&quot;RandomMapDialog.labProbHeavy&quot;));</span>
<span class="nc" id="L760">        panel.add(heavyWoodsLabel);</span>
<span class="nc" id="L761">        foliageHeavyChanceField.setToolTipText(Messages.getString(&quot;RandomMapDialog.foliageHeavyChanceField.toolTip&quot;));</span>
<span class="nc" id="L762">        panel.add(foliageHeavyChanceField);</span>
<span class="nc" id="L763">        panel.add(new JLabel());</span>
<span class="nc" id="L764">        panel.add(new JLabel());</span>

<span class="nc" id="L766">        panel.setBorder(new TitledBorder(new LineBorder(Color.black, 1),</span>
<span class="nc" id="L767">                                         Messages.getString(&quot;RandomMapDialog.borderFoliage&quot;)));</span>

<span class="nc" id="L769">        RandomMapPanelBasic.makeCompactGrid(panel, 3, 4, 6, 6, 6, 6);</span>
<span class="nc" id="L770">        return panel;</span>
    }

    private JPanel setupSwampsPanel() {
<span class="nc" id="L774">        JPanel panel = new FeaturePanel(new SpringLayout());</span>
        
<span class="nc" id="L776">        JLabel numberSwampsLabel = new JLabel(Messages.getString(&quot;RandomMapDialog.labSwampSpots&quot;));</span>
<span class="nc" id="L777">        panel.add(numberSwampsLabel);</span>
<span class="nc" id="L778">        swampsMinField.setToolTipText(Messages.getString(&quot;RandomMapDialog.swampsMinField.toolTip&quot;));</span>
<span class="nc" id="L779">        panel.add(swampsMinField);</span>

<span class="nc" id="L781">        JLabel numberSwampsToLabel = new JLabel(Messages.getString(&quot;to&quot;));</span>
<span class="nc" id="L782">        panel.add(numberSwampsToLabel);</span>
<span class="nc" id="L783">        swampsMaxField.setToolTipText(Messages.getString(&quot;RandomMapDialog.swampsMaxField.toolTip&quot;));</span>
<span class="nc" id="L784">        panel.add(swampsMaxField);</span>

<span class="nc" id="L786">        JLabel sizeSwampsLabel = new JLabel(Messages.getString(&quot;RandomMapDialog.labSwampSize&quot;));</span>
<span class="nc" id="L787">        panel.add(sizeSwampsLabel);</span>
<span class="nc" id="L788">        swampsMinSizeField.setToolTipText(Messages.getString(&quot;RandomMapDialog.swampsMinSizeField.toolTip&quot;));</span>
<span class="nc" id="L789">        panel.add(swampsMinSizeField);</span>

<span class="nc" id="L791">        JLabel sizeSwampsToLabel = new JLabel(Messages.getString(&quot;to&quot;));</span>
<span class="nc" id="L792">        panel.add(sizeSwampsToLabel);</span>
<span class="nc" id="L793">        swampsMaxSizeField.setToolTipText(Messages.getString(&quot;RandomMapDialog.swampsMaxSizeField.toolTip&quot;));</span>
<span class="nc" id="L794">        panel.add(swampsMaxSizeField);</span>

<span class="nc" id="L796">        panel.setBorder(new TitledBorder(new LineBorder(Color.black, 1),</span>
<span class="nc" id="L797">                                         Messages.getString(&quot;RandomMapDialog.borderSwamp&quot;)));</span>
        
<span class="nc" id="L799">        RandomMapPanelBasic.makeCompactGrid(panel, 2, 4, 6, 6, 6, 6);</span>
<span class="nc" id="L800">        return panel;</span>
    }

    private JPanel setupSandsPanel() {
<span class="nc" id="L804">        JPanel panel = new FeaturePanel(new SpringLayout());</span>

<span class="nc" id="L806">        JLabel numberSandsLabel = new JLabel(Messages.getString(&quot;RandomMapDialog.labSandSpots&quot;));</span>
<span class="nc" id="L807">        panel.add(numberSandsLabel);</span>
<span class="nc" id="L808">        sandsMinField.setToolTipText(Messages.getString(&quot;RandomMapDialog.sandsMinField.toolTip&quot;));</span>
<span class="nc" id="L809">        panel.add(sandsMinField);</span>
<span class="nc" id="L810">        JLabel numberSandsToLabel = new JLabel(Messages.getString(&quot;to&quot;));</span>
<span class="nc" id="L811">        panel.add(numberSandsToLabel);</span>
<span class="nc" id="L812">        sandsMaxField.setToolTipText(Messages.getString(&quot;RandomMapDialog.sandsMaxField.toolTip&quot;));</span>
<span class="nc" id="L813">        panel.add(sandsMaxField);</span>

<span class="nc" id="L815">        JLabel sizeSandsLabel = new JLabel(Messages.getString(&quot;RandomMapDialog.labSandSize&quot;));</span>
<span class="nc" id="L816">        panel.add(sizeSandsLabel);</span>
<span class="nc" id="L817">        sandsSizeMinField.setToolTipText(Messages.getString(&quot;RandomMapDialog.sandsSizeMinField.toolTip&quot;));</span>
<span class="nc" id="L818">        panel.add(sandsSizeMinField);</span>
<span class="nc" id="L819">        JLabel sizeSandsToLabel = new JLabel(Messages.getString(&quot;to&quot;));</span>
<span class="nc" id="L820">        panel.add(sizeSandsToLabel);</span>
<span class="nc" id="L821">        sandsSizeMaxField.setToolTipText(Messages.getString(&quot;RandomMapDialog.sandsSizeMaxField.toolTip&quot;));</span>
<span class="nc" id="L822">        panel.add(sandsSizeMaxField);</span>

<span class="nc" id="L824">        panel.setBorder(new TitledBorder(new LineBorder(Color.black, 1),</span>
<span class="nc" id="L825">                                         Messages.getString(&quot;RandomMapDialog.borderSand&quot;)));</span>

<span class="nc" id="L827">        RandomMapPanelBasic.makeCompactGrid(panel, 2, 4, 6, 6, 6, 6);</span>
<span class="nc" id="L828">        return panel;</span>
    }

    private JPanel setupRoughsPanel() {
<span class="nc" id="L832">        JPanel panel = new FeaturePanel(new SpringLayout());</span>

<span class="nc" id="L834">        JLabel numberRoughsLabel = new JLabel(Messages.getString(&quot;RandomMapDialog.labRoughSpots&quot;));</span>
<span class="nc" id="L835">        panel.add(numberRoughsLabel);</span>
<span class="nc" id="L836">        roughsMinField.setToolTipText(Messages.getString(&quot;RandomMapDialog.roughsMinField.toolTip&quot;));</span>
<span class="nc" id="L837">        panel.add(roughsMinField);</span>
<span class="nc" id="L838">        JLabel numberRoughsToLabel = new JLabel(Messages.getString(&quot;to&quot;));</span>
<span class="nc" id="L839">        panel.add(numberRoughsToLabel);</span>
<span class="nc" id="L840">        roughsMaxField.setToolTipText(Messages.getString(&quot;RandomMapDialog.roughsMaxField.toolTip&quot;));</span>
<span class="nc" id="L841">        panel.add(roughsMaxField);</span>

<span class="nc" id="L843">        JLabel sizeRoughsLabel = new JLabel(Messages.getString(&quot;RandomMapDialog.labRoughSize&quot;));</span>
<span class="nc" id="L844">        panel.add(sizeRoughsLabel);</span>
<span class="nc" id="L845">        roughsMinSizeField.setToolTipText(Messages.getString(&quot;RandomMapDialog.roughsMinSizeField.toolTip&quot;));</span>
<span class="nc" id="L846">        panel.add(roughsMinSizeField);</span>
<span class="nc" id="L847">        JLabel sizeRoughsToLabel = new JLabel(Messages.getString(&quot;to&quot;));</span>
<span class="nc" id="L848">        panel.add(sizeRoughsToLabel);</span>
<span class="nc" id="L849">        roughsMaxSizeField.setToolTipText(Messages.getString(&quot;RandomMapDialog.roughsMaxSizeField.toolTip&quot;));</span>
<span class="nc" id="L850">        panel.add(roughsMaxSizeField);</span>

<span class="nc" id="L852">        panel.setBorder(new TitledBorder(new LineBorder(Color.black, 1),</span>
<span class="nc" id="L853">                                         Messages.getString(&quot;RandomMapDialog.borderRough&quot;)));</span>

<span class="nc" id="L855">        RandomMapPanelBasic.makeCompactGrid(panel, 2, 4, 6, 6, 6, 6);</span>
<span class="nc" id="L856">        return panel;</span>
    }

    private JScrollPane setupElevationPanel() {
<span class="nc" id="L860">        JPanel panel = new JPanel();</span>
<span class="nc" id="L861">        panel.setLayout(new BoxLayout(panel, BoxLayout.PAGE_AXIS));</span>

<span class="nc" id="L863">        panel.add(setupElevationGeneralPanel());</span>
<span class="nc" id="L864">        panel.add(setupMountainsPanel());</span>
<span class="nc" id="L865">        panel.add(setupCratersPanel());</span>

<span class="nc" id="L867">        return new JScrollPane(panel);</span>
    }

    private JPanel setupCratersPanel() {
<span class="nc" id="L871">        JPanel panel = new FeaturePanel(new SpringLayout());</span>
        
<span class="nc" id="L873">        final JLabel craterChanceLabel = new JLabel(Messages.getString(&quot;RandomMapDialog.labProbCrater&quot;));</span>
<span class="nc" id="L874">        panel.add(craterChanceLabel);</span>
<span class="nc" id="L875">        craterChanceField.setToolTipText(Messages.getString(&quot;RandomMapDialog.craterChanceField.toolTip&quot;));</span>
<span class="nc" id="L876">        panel.add(craterChanceField);</span>
<span class="nc" id="L877">        panel.add(new JLabel());</span>
<span class="nc" id="L878">        panel.add(new JLabel());</span>

<span class="nc" id="L880">        final JLabel craterNumberLabel = new JLabel(Messages.getString(&quot;RandomMapDialog.labMaxCraters&quot;));</span>
<span class="nc" id="L881">        panel.add(craterNumberLabel);</span>
<span class="nc" id="L882">        craterAmountMinField.setToolTipText(Messages.getString(&quot;RandomMapDialog.craterAmountMinField.toolTip&quot;));</span>
<span class="nc" id="L883">        panel.add(craterAmountMinField);</span>

<span class="nc" id="L885">        final JLabel craterNumberToField = new JLabel(Messages.getString(&quot;to&quot;));</span>
<span class="nc" id="L886">        panel.add(craterNumberToField);</span>
<span class="nc" id="L887">        craterAmountMaxField.setToolTipText(Messages.getString(&quot;RandomMapDialog.craterAmountMaxField.toolTip&quot;));</span>
<span class="nc" id="L888">        panel.add(craterAmountMaxField);</span>

<span class="nc" id="L890">        final JLabel craterSizeLabel = new JLabel(Messages.getString(&quot;RandomMapDialog.labRadius&quot;));</span>
<span class="nc" id="L891">        panel.add(craterSizeLabel);</span>
<span class="nc" id="L892">        craterSizeMinField.setToolTipText(Messages.getString(&quot;RandomMapDialog.craterSizeMinField.toolTip&quot;));</span>
<span class="nc" id="L893">        panel.add(craterSizeMinField);</span>

<span class="nc" id="L895">        final JLabel craterSizeToField = new JLabel(Messages.getString(&quot;to&quot;));</span>
<span class="nc" id="L896">        panel.add(craterSizeToField);</span>
<span class="nc" id="L897">        craterSizeMaxField.setToolTipText(Messages.getString(&quot;RandomMapDialog.craterSizeMaxField.toolTip&quot;));</span>
<span class="nc" id="L898">        panel.add(craterSizeMaxField);</span>

<span class="nc" id="L900">        panel.setBorder(new TitledBorder(new LineBorder(Color.black, 1),</span>
<span class="nc" id="L901">                                         Messages.getString(&quot;RandomMapDialog.borderCrater&quot;)));</span>
<span class="nc" id="L902">        RandomMapPanelBasic.makeCompactGrid(panel, 3, 4, 6, 6, 6, 6);</span>
<span class="nc" id="L903">        return panel;</span>
    }

    private JPanel setupMountainsPanel() {
<span class="nc" id="L907">        JPanel panel = new FeaturePanel(new SpringLayout());</span>

<span class="nc" id="L909">        final JLabel peaksLabel = new JLabel(Messages.getString(&quot;RandomMapDialog.labMountainPeaks&quot;));</span>
<span class="nc" id="L910">        panel.add(peaksLabel);</span>
<span class="nc" id="L911">        elevationPeaksField.setToolTipText(Messages.getString(&quot;RandomMapDialog.elevationPeaksField.toolTip&quot;));</span>
<span class="nc" id="L912">        panel.add(elevationPeaksField);</span>
<span class="nc" id="L913">        panel.add(new JLabel());</span>
<span class="nc" id="L914">        panel.add(new JLabel());</span>

<span class="nc" id="L916">        final JLabel mountainStyleLabel = new JLabel(Messages.getString(&quot;RandomMapDialog.labMountainStyle&quot;));</span>
<span class="nc" id="L917">        panel.add(mountainStyleLabel);</span>
<span class="nc" id="L918">        mountainStyleCombo.setToolTipText(Messages.getString(&quot;RandomMapDialog.mountainStyleCombo.toolTip&quot;));</span>
<span class="nc" id="L919">        panel.add(mountainStyleCombo);</span>
<span class="nc" id="L920">        panel.add(new JLabel());</span>
<span class="nc" id="L921">        panel.add(new JLabel());</span>

<span class="nc" id="L923">        final JLabel mountainHeightLabel = new JLabel(Messages.getString(&quot;RandomMapDialog.labMountainHeight&quot;));</span>
<span class="nc" id="L924">        panel.add(mountainHeightLabel);</span>
<span class="nc" id="L925">        mountainHeightMinField.setToolTipText(Messages.getString(&quot;RandomMapDialog.mountainHeightMinField.toolTip&quot;));</span>
<span class="nc" id="L926">        panel.add(mountainHeightMinField);</span>
<span class="nc" id="L927">        final JLabel mountainHeightToLabel = new JLabel(Messages.getString(&quot;to&quot;));</span>
<span class="nc" id="L928">        panel.add(mountainHeightToLabel);</span>
<span class="nc" id="L929">        mountainHeightMaxField.setToolTipText(Messages.getString(&quot;RandomMapDialog.mountainHeightMaxField.toolTip&quot;));</span>
<span class="nc" id="L930">        panel.add(mountainHeightMaxField);</span>

<span class="nc" id="L932">        final JLabel mountainWidthLabel = new JLabel(Messages.getString(&quot;RandomMapDialog.labMountainWidth&quot;));</span>
<span class="nc" id="L933">        panel.add(mountainWidthLabel);</span>
<span class="nc" id="L934">        mountainWidthMinField.setToolTipText(Messages.getString(&quot;RandomMapDialog.mountainWidthMinField.toolTip&quot;));</span>
<span class="nc" id="L935">        panel.add(mountainWidthMinField);</span>
<span class="nc" id="L936">        final JLabel mountainWidthToLabel = new JLabel(Messages.getString(&quot;to&quot;));</span>
<span class="nc" id="L937">        panel.add(mountainWidthToLabel);</span>
<span class="nc" id="L938">        mountainWidthMaxField.setToolTipText(Messages.getString(&quot;RandomMapDialog.mountainWidthMaxField.toolTip&quot;));</span>
<span class="nc" id="L939">        panel.add(mountainWidthMaxField);</span>

<span class="nc" id="L941">        panel.setBorder(new TitledBorder(new LineBorder(Color.black, 1),</span>
<span class="nc" id="L942">                                         Messages.getString(&quot;RandomMapDialog.borderMountain&quot;)));</span>

<span class="nc" id="L944">        RandomMapPanelBasic.makeCompactGrid(panel, 4, 4, 6, 6, 6, 6);</span>
<span class="nc" id="L945">        return panel;</span>
    }

    private JPanel setupElevationGeneralPanel() {
<span class="nc" id="L949">        JPanel panel = new FeaturePanel(new SpringLayout());</span>

<span class="nc" id="L951">        final JLabel algorithmLabel = new JLabel(Messages.getString(&quot;RandomMapDialog.labAlgorithmToUse&quot;));</span>
<span class="nc" id="L952">        panel.add(algorithmLabel);</span>
<span class="nc" id="L953">        elevationAlgorithmField.setToolTipText(Messages.getString(&quot;RandomMapDialog.elevationAlgorithmField.toolTip&quot;));</span>
<span class="nc" id="L954">        panel.add(elevationAlgorithmField);</span>

<span class="nc" id="L956">        final JLabel hillinessLabel = new JLabel(Messages.getString(&quot;RandomMapDialog.labHilliness&quot;));</span>
<span class="nc" id="L957">        panel.add(hillinessLabel);</span>
<span class="nc" id="L958">        hillinessField.setToolTipText(Messages.getString(&quot;RandomMapDialog.hillinessField.toolTip&quot;));</span>
<span class="nc" id="L959">        panel.add(hillinessField);</span>

<span class="nc" id="L961">        final JLabel elevationRangeLabel = new JLabel(Messages.getString(&quot;RandomMapDialog.labRange&quot;));</span>
<span class="nc" id="L962">        panel.add(elevationRangeLabel);</span>
<span class="nc" id="L963">        elevationRangeField.setToolTipText(Messages.getString(&quot;RandomMapDialog.elevationRangeField.toolTip&quot;));</span>
<span class="nc" id="L964">        panel.add(elevationRangeField);</span>

<span class="nc" id="L966">        final JLabel elevationCliffsLabel = new JLabel(Messages.getString(&quot;RandomMapDialog.labCliffs&quot;));</span>
<span class="nc" id="L967">        panel.add(elevationCliffsLabel);</span>
<span class="nc" id="L968">        elevationCliffsField.setToolTipText(Messages.getString(&quot;RandomMapDialog.elevationCliffsField.toolTip&quot;));</span>
<span class="nc" id="L969">        panel.add(elevationCliffsField);</span>

<span class="nc" id="L971">        final JLabel elevationInversionLabel = new JLabel(Messages.getString(&quot;RandomMapDialog.labProbInvert&quot;));</span>
<span class="nc" id="L972">        panel.add(elevationInversionLabel);</span>
<span class="nc" id="L973">        elevationInversionField.setToolTipText(Messages.getString(&quot;RandomMapDialog.elevationInversionField.toolTip&quot;));</span>
<span class="nc" id="L974">        panel.add(elevationInversionField);</span>

<span class="nc" id="L976">        final JLabel invertNegativeLabel = new JLabel(Messages.getString(&quot;RandomMapDialog.labInvertNegative&quot;));</span>
<span class="nc" id="L977">        panel.add(invertNegativeLabel);</span>
<span class="nc" id="L978">        invertNegativeCheck.setText(&quot;&quot;);</span>
<span class="nc" id="L979">        invertNegativeCheck.setToolTipText(Messages.getString(&quot;RandomMapDialog.invertNegativeCheck.toolTip&quot;));</span>
<span class="nc" id="L980">        panel.add(invertNegativeCheck);</span>

<span class="nc" id="L982">        panel.setBorder(new TitledBorder(new LineBorder(Color.black, 1),</span>
<span class="nc" id="L983">                                         Messages.getString(&quot;RandomMapDialog.borderGeneral&quot;)));</span>

<span class="nc" id="L985">        RandomMapPanelBasic.makeCompactGrid(panel, 6, 2, 6, 6, 6, 6);</span>
<span class="nc" id="L986">        return panel;</span>
    }

    // Enum containing the various valid mountain styles.
<span class="nc" id="L990">    private enum MountainStyle {</span>
<span class="nc" id="L991">        PLAIN(MapSettings.MOUNTAIN_PLAIN, Messages.getString(&quot;RandomMapDialog.mountainPlain&quot;)),</span>
<span class="nc" id="L992">        VOLCANO_EXTINCT(MapSettings.MOUNTAIN_VOLCANO_EXTINCT, Messages.getString(&quot;RandomMapDialog.volcanoExtinct&quot;)),</span>
<span class="nc" id="L993">        VOLCANO_DORMANT(MapSettings.MOUNTAIN_VOLCANO_DORMANT, Messages.getString(&quot;RandomMapDialog.volcanoDormant&quot;)),</span>
<span class="nc" id="L994">        VOLCANO_ACTIVE(MapSettings.MOUNTAIN_VOLCANO_ACTIVE, Messages.getString(&quot;RandomMapDialog.volcanoActive&quot;)),</span>
<span class="nc" id="L995">        SNOWCAPPED(MapSettings.MOUNTAIN_SNOWCAPPED, Messages.getString(&quot;RandomMapDialog.mountainSnowcapped&quot;)),</span>
<span class="nc" id="L996">        LAKE(MapSettings.MOUNTAIN_LAKE, Messages.getString(&quot;RandomMapDialog.mountainLake&quot;));</span>

        private final int code;
        private final String description;

<span class="nc" id="L1001">        MountainStyle(int code, String description) {</span>
<span class="nc" id="L1002">            this.code = code;</span>
<span class="nc" id="L1003">            this.description = description;</span>
<span class="nc" id="L1004">        }</span>

        private int getCode() {
<span class="nc" id="L1007">            return code;</span>
        }

        private String getDescription() {
<span class="nc" id="L1011">            return description;</span>
        }

        private static MountainStyle getMountainStyle(String description) {
<span class="nc bnc" id="L1015" title="All 2 branches missed.">            for (MountainStyle ms : values()) {</span>
<span class="nc bnc" id="L1016" title="All 2 branches missed.">                if (ms.getDescription().equals(description)) {</span>
<span class="nc" id="L1017">                    return ms;</span>
                }
            }
<span class="nc" id="L1020">            return null;</span>
        }

        private static MountainStyle getMountainStyle(int code) {
<span class="nc bnc" id="L1024" title="All 2 branches missed.">            for (MountainStyle ms : values()) {</span>
<span class="nc bnc" id="L1025" title="All 2 branches missed.">                if (ms.getCode() == code) {</span>
<span class="nc" id="L1026">                    return ms;</span>
                }
            }
<span class="nc" id="L1029">            return null;</span>
        }

        private static String[] getStyleDescriptions() {
<span class="nc" id="L1033">            String[] styles = new String[values().length];</span>
<span class="nc bnc" id="L1034" title="All 2 branches missed.">            for (int i = 0; i &lt; styles.length; i++) {</span>
<span class="nc" id="L1035">                styles[i] = values()[i].getDescription();</span>
            }
<span class="nc" id="L1037">            return styles;</span>
        }
    }

    private void showDataValidationError(String message) {
<span class="nc" id="L1042">        JOptionPane.showMessageDialog(this, message, &quot;Data Validation Error&quot;, JOptionPane.ERROR_MESSAGE);</span>
<span class="nc" id="L1043">    }</span>

    // Has the given field validate itself.
    private boolean isFieldVerified(VerifiableTextField field) {
<span class="nc" id="L1047">        String result = field.verifyTextS();</span>
<span class="nc bnc" id="L1048" title="All 2 branches missed.">        if (result != null) {</span>
<span class="nc" id="L1049">            result = field.getName() + &quot;: &quot; + result;</span>
<span class="nc" id="L1050">            new RuntimeException(result).printStackTrace();</span>
<span class="nc" id="L1051">            field.requestFocus();</span>
<span class="nc" id="L1052">            showDataValidationError(result);</span>
        }
<span class="nc bnc" id="L1054" title="All 2 branches missed.">        return (result == null);</span>
    }

    // Takes in a min and max field, makes shure the data is generally valid in each then compares them to make sure
    // the minimum value does not exceed the maximum.
    private boolean isMinMaxVerified(VerifiableTextField min, VerifiableTextField max) {
<span class="nc bnc" id="L1060" title="All 4 branches missed.">        if (!isFieldVerified(min) || !isFieldVerified(max)) {</span>
<span class="nc" id="L1061">            return false;</span>
        }

<span class="nc" id="L1064">        final String INVALID = &quot;Minimum cannot exceed maximum.&quot;;</span>
<span class="nc bnc" id="L1065" title="All 2 branches missed.">        if (min.getAsInt() &gt; max.getAsInt()) {</span>
<span class="nc" id="L1066">            new RuntimeException(INVALID).printStackTrace();</span>
<span class="nc" id="L1067">            min.setOldToolTip(min.getToolTipText());</span>
<span class="nc" id="L1068">            max.setOldToolTip(max.getToolTipText());</span>
<span class="nc" id="L1069">            min.setBackground(VerifiableTextField.getInvalidColor());</span>
<span class="nc" id="L1070">            max.setBackground(VerifiableTextField.getInvalidColor());</span>
<span class="nc" id="L1071">            min.setToolTipText(INVALID);</span>
<span class="nc" id="L1072">            max.setToolTipText(INVALID);</span>
<span class="nc" id="L1073">            min.requestFocus();</span>
<span class="nc" id="L1074">            showDataValidationError(INVALID);</span>
<span class="nc" id="L1075">            return false;</span>
        }
<span class="nc" id="L1077">        return true;</span>
    }

    // Verifies all the fields on this panel.
    private boolean areMapSettingsVerified() {
<span class="nc bnc" id="L1082" title="All 2 branches missed.">        if (!isFieldVerified(elevationAlgorithmField)) {</span>
<span class="nc" id="L1083">            return false;</span>
        }

<span class="nc bnc" id="L1086" title="All 2 branches missed.">        if (!isFieldVerified(hillinessField)) {</span>
<span class="nc" id="L1087">            return false;</span>
        }

<span class="nc bnc" id="L1090" title="All 2 branches missed.">        if (!isFieldVerified(elevationRangeField)) {</span>
<span class="nc" id="L1091">            return false;</span>
        }

<span class="nc bnc" id="L1094" title="All 2 branches missed.">        if (!isFieldVerified(elevationCliffsField)) {</span>
<span class="nc" id="L1095">            return false;</span>
        }

<span class="nc bnc" id="L1098" title="All 2 branches missed.">        if (!isFieldVerified(elevationInversionField)) {</span>
<span class="nc" id="L1099">            return false;</span>
        }

<span class="nc bnc" id="L1102" title="All 2 branches missed.">        if (!isFieldVerified(elevationPeaksField)) {</span>
<span class="nc" id="L1103">            return false;</span>
        }

<span class="nc bnc" id="L1106" title="All 2 branches missed.">        if (!isFieldVerified(mountainHeightMinField)) {</span>
<span class="nc" id="L1107">            return false;</span>
        }

<span class="nc bnc" id="L1110" title="All 2 branches missed.">        if (!isMinMaxVerified(mountainHeightMinField, mountainHeightMaxField)) {</span>
<span class="nc" id="L1111">            return false;</span>
        }

<span class="nc bnc" id="L1114" title="All 2 branches missed.">        if (!isMinMaxVerified(mountainWidthMinField, mountainWidthMaxField)) {</span>
<span class="nc" id="L1115">            return false;</span>
        }

<span class="nc bnc" id="L1118" title="All 2 branches missed.">        if (!isFieldVerified(craterChanceField)) {</span>
<span class="nc" id="L1119">            return false;</span>
        }

<span class="nc bnc" id="L1122" title="All 2 branches missed.">        if (!isMinMaxVerified(craterAmountMinField, craterAmountMaxField)) {</span>
<span class="nc" id="L1123">            return false;</span>
        }

<span class="nc bnc" id="L1126" title="All 2 branches missed.">        if (!isMinMaxVerified(craterSizeMinField, craterSizeMaxField)) {</span>
<span class="nc" id="L1127">            return false;</span>
        }

<span class="nc bnc" id="L1130" title="All 2 branches missed.">        if (!isMinMaxVerified(roughsMinField, roughsMaxField)) {</span>
<span class="nc" id="L1131">            return false;</span>
        }

<span class="nc bnc" id="L1134" title="All 2 branches missed.">        if (!isMinMaxVerified(roughsMinSizeField, roughsMaxSizeField)) {</span>
<span class="nc" id="L1135">            return false;</span>
        }

<span class="nc bnc" id="L1138" title="All 2 branches missed.">        if (!isMinMaxVerified(sandsMinField, sandsMaxField)) {</span>
<span class="nc" id="L1139">            return false;</span>
        }

<span class="nc bnc" id="L1142" title="All 2 branches missed.">        if (!isMinMaxVerified(sandsSizeMinField, sandsSizeMaxField)) {</span>
<span class="nc" id="L1143">            return false;</span>
        }

<span class="nc bnc" id="L1146" title="All 2 branches missed.">        if (!isMinMaxVerified(swampsMinField, swampsMaxField)) {</span>
<span class="nc" id="L1147">            return false;</span>
        }

<span class="nc bnc" id="L1150" title="All 2 branches missed.">        if (!isMinMaxVerified(swampsMinSizeField, swampsMaxSizeField)) {</span>
<span class="nc" id="L1151">            return false;</span>
        }

<span class="nc bnc" id="L1154" title="All 2 branches missed.">        if (!isMinMaxVerified(woodsMinField, woodsMaxField)) {</span>
<span class="nc" id="L1155">            return false;</span>
        }

<span class="nc bnc" id="L1158" title="All 2 branches missed.">        if (!isMinMaxVerified(woodsMinSizeField, woodsMaxSizeField)) {</span>
<span class="nc" id="L1159">            return false;</span>
        }

<span class="nc bnc" id="L1162" title="All 2 branches missed.">        if (!isFieldVerified(woodsHeavyChanceField)) {</span>
<span class="nc" id="L1163">            return false;</span>
        }
        
<span class="nc bnc" id="L1166" title="All 2 branches missed.">        if (!isMinMaxVerified(foliageMinField, foliageMaxField)) {</span>
<span class="nc" id="L1167">            return false;</span>
        }

<span class="nc bnc" id="L1170" title="All 2 branches missed.">        if (!isMinMaxVerified(foliageMinSizeField, foliageMaxSizeField)) {</span>
<span class="nc" id="L1171">            return false;</span>
        }

<span class="nc bnc" id="L1174" title="All 2 branches missed.">        if (!isFieldVerified(foliageHeavyChanceField)) {</span>
<span class="nc" id="L1175">            return false;</span>
        }

<span class="nc bnc" id="L1178" title="All 2 branches missed.">        if (!isMinMaxVerified(fieldsMinField, fieldsMaxField)) {</span>
<span class="nc" id="L1179">            return false;</span>
        }

<span class="nc bnc" id="L1182" title="All 2 branches missed.">        if (!isMinMaxVerified(fieldSizeMinField, fieldSizeMaxField)) {</span>
<span class="nc" id="L1183">            return false;</span>
        }

<span class="nc bnc" id="L1186" title="All 2 branches missed.">        if (!isMinMaxVerified(fortifiedMinField, fortifiedMaxField)) {</span>
<span class="nc" id="L1187">            return false;</span>
        }

<span class="nc bnc" id="L1190" title="All 2 branches missed.">        if (!isMinMaxVerified(fortifiedSizeMinField, fortifiedSizeMaxField)) {</span>
<span class="nc" id="L1191">            return false;</span>
        }

<span class="nc bnc" id="L1194" title="All 2 branches missed.">        if (!isMinMaxVerified(pavementMinField, pavementMaxField)) {</span>
<span class="nc" id="L1195">            return false;</span>
        }

<span class="nc bnc" id="L1198" title="All 2 branches missed.">        if (!isMinMaxVerified(pavementSizeMinField, pavementSizeMaxField)) {</span>
<span class="nc" id="L1199">            return false;</span>
        }

<span class="nc bnc" id="L1202" title="All 2 branches missed.">        if (!isFieldVerified(roadChanceField)) {</span>
<span class="nc" id="L1203">            return false;</span>
        }

<span class="nc bnc" id="L1206" title="All 2 branches missed.">        if (!isMinMaxVerified(rubbleMinField, rubbleMaxField)) {</span>
<span class="nc" id="L1207">            return false;</span>
        }

<span class="nc bnc" id="L1210" title="All 2 branches missed.">        if (!isMinMaxVerified(rubbleSizeMinField, rubbleSizeMaxField)) {</span>
<span class="nc" id="L1211">            return false;</span>
        }

<span class="nc bnc" id="L1214" title="All 2 branches missed.">        if (!isFieldVerified(cityBlocks)) {</span>
<span class="nc" id="L1215">            return false;</span>
        }

<span class="nc bnc" id="L1218" title="All 2 branches missed.">        if (!isMinMaxVerified(cityCFMinField, cityCFMaxField)) {</span>
<span class="nc" id="L1219">            return false;</span>
        }

<span class="nc bnc" id="L1222" title="All 2 branches missed.">        if (!isMinMaxVerified(cityFloorsMinField, cityFloorsMaxField)) {</span>
<span class="nc" id="L1223">            return false;</span>
        }

<span class="nc bnc" id="L1226" title="All 2 branches missed.">        if (!isFieldVerified(cityDensityField)) {</span>
<span class="nc" id="L1227">            return false;</span>
        }

<span class="nc bnc" id="L1230" title="All 2 branches missed.">        if (!isFieldVerified(townSizeField)) {</span>
<span class="nc" id="L1231">            return false;</span>
        }

<span class="nc bnc" id="L1234" title="All 2 branches missed.">        if (!isMinMaxVerified(lakesMinField, lakesMaxField)) {</span>
<span class="nc" id="L1235">            return false;</span>
        }

<span class="nc bnc" id="L1238" title="All 2 branches missed.">        if (!isMinMaxVerified(lakeSizeMinField, lakeSizeMaxField)) {</span>
<span class="nc" id="L1239">            return false;</span>
        }

<span class="nc bnc" id="L1242" title="All 2 branches missed.">        if (!isFieldVerified(deepChanceField)) {</span>
<span class="nc" id="L1243">            return false;</span>
        }

<span class="nc bnc" id="L1246" title="All 2 branches missed.">        if (!isFieldVerified(riverChanceField)) {</span>
<span class="nc" id="L1247">            return false;</span>
        }

<span class="nc bnc" id="L1250" title="All 2 branches missed.">        if (!isMinMaxVerified(iceMinField, iceMaxField)) {</span>
<span class="nc" id="L1251">            return false;</span>
        }

<span class="nc bnc" id="L1254" title="All 2 branches missed.">        if (!isMinMaxVerified(iceSizeMinField, iceSizeMaxField)) {</span>
<span class="nc" id="L1255">            return false;</span>
        }

<span class="nc bnc" id="L1258" title="All 2 branches missed.">        if (!isFieldVerified(freezeChanceField)) {</span>
<span class="nc" id="L1259">            return false;</span>
        }

<span class="nc bnc" id="L1262" title="All 2 branches missed.">        if (!isFieldVerified(droughtChanceField)) {</span>
<span class="nc" id="L1263">            return false;</span>
        }

<span class="nc bnc" id="L1266" title="All 2 branches missed.">        if (!isFieldVerified(floodChanceField)) {</span>
<span class="nc" id="L1267">            return false;</span>
        }

<span class="nc bnc" id="L1270" title="All 2 branches missed.">        if (!isFieldVerified(fireChanceField)) {</span>
<span class="nc" id="L1271">            return false;</span>
        }

<span class="nc bnc" id="L1274" title="All 2 branches missed.">        if (!isFieldVerified(specialFxField)) {</span>
<span class="nc" id="L1275">            return false;</span>
        }

<span class="nc" id="L1278">        return true;</span>
    }

    /**
     * Returns a {@link MapSettings} object reflecting the values set on this panel after verifying that all the fields
     * are valid.  If they are not, a NULL will be returned.
     *
     * @return The new {@link MapSettings} object or NULL if there are any invalid settings on the panel.
     */
    public MapSettings getMapSettings() {
<span class="nc bnc" id="L1288" title="All 2 branches missed.">        if (!areMapSettingsVerified()) {</span>
<span class="nc" id="L1289">            return null;</span>
        }

        // Build a new MapSettings objects.
<span class="nc" id="L1293">        MapSettings newMapSettings = MapSettings.getInstance(mapSettings);</span>

        // Update the settings with the values from the fields.
<span class="nc" id="L1296">        newMapSettings.setAlgorithmToUse(elevationAlgorithmField.getAsInt());</span>
<span class="nc" id="L1297">        newMapSettings.setElevationParams(hillinessField.getAsInt(),</span>
<span class="nc" id="L1298">                                          elevationRangeField.getAsInt(),</span>
<span class="nc" id="L1299">                                          elevationInversionField.getAsInt());</span>
<span class="nc" id="L1300">        newMapSettings.setCliffParam(elevationCliffsField.getAsInt());</span>

        // No idea why this is an int instead of a boolean.
<span class="nc bnc" id="L1303" title="All 2 branches missed.">        newMapSettings.setInvertNegativeTerrain(invertNegativeCheck.isSelected() ? 1 : 0);</span>
<span class="nc" id="L1304">        newMapSettings.setMountainParams(elevationPeaksField.getAsInt(),</span>
<span class="nc" id="L1305">                                         mountainWidthMinField.getAsInt(),</span>
<span class="nc" id="L1306">                                         mountainWidthMaxField.getAsInt(),</span>
<span class="nc" id="L1307">                                         mountainHeightMinField.getAsInt(),</span>
<span class="nc" id="L1308">                                         mountainHeightMaxField.getAsInt(),</span>
<span class="nc" id="L1309">                                         MountainStyle.getMountainStyle((String) mountainStyleCombo.getSelectedItem())</span>
<span class="nc" id="L1310">                                                      .getCode());</span>
<span class="nc" id="L1311">        newMapSettings.setCraterParam(craterChanceField.getAsInt(),</span>
<span class="nc" id="L1312">                                      craterAmountMinField.getAsInt(),</span>
<span class="nc" id="L1313">                                      craterAmountMaxField.getAsInt(),</span>
<span class="nc" id="L1314">                                      craterSizeMinField.getAsInt(),</span>
<span class="nc" id="L1315">                                      craterSizeMaxField.getAsInt());</span>
<span class="nc" id="L1316">        newMapSettings.setRoughParams(roughsMinField.getAsInt(),</span>
<span class="nc" id="L1317">                                      roughsMaxField.getAsInt(),</span>
<span class="nc" id="L1318">                                      roughsMinSizeField.getAsInt(),</span>
<span class="nc" id="L1319">                                      roughsMaxSizeField.getAsInt());</span>
<span class="nc" id="L1320">        newMapSettings.setSandParams(sandsMinField.getAsInt(),</span>
<span class="nc" id="L1321">                                     sandsMaxField.getAsInt(),</span>
<span class="nc" id="L1322">                                     sandsSizeMinField.getAsInt(),</span>
<span class="nc" id="L1323">                                     sandsSizeMaxField.getAsInt());</span>
<span class="nc" id="L1324">        newMapSettings.setSwampParams(swampsMinField.getAsInt(),</span>
<span class="nc" id="L1325">                                      swampsMaxField.getAsInt(),</span>
<span class="nc" id="L1326">                                      swampsMinSizeField.getAsInt(),</span>
<span class="nc" id="L1327">                                      swampsMaxSizeField.getAsInt());</span>
<span class="nc" id="L1328">        newMapSettings.setForestParams(woodsMinField.getAsInt(),</span>
<span class="nc" id="L1329">                                       woodsMaxField.getAsInt(),</span>
<span class="nc" id="L1330">                                       woodsMinSizeField.getAsInt(),</span>
<span class="nc" id="L1331">                                       woodsMaxSizeField.getAsInt(),</span>
<span class="nc" id="L1332">                                       woodsHeavyChanceField.getAsInt());</span>
<span class="nc" id="L1333">        newMapSettings.setFoliageParams(foliageMinField.getAsInt(),</span>
<span class="nc" id="L1334">                                       foliageMaxField.getAsInt(),</span>
<span class="nc" id="L1335">                                       foliageMinSizeField.getAsInt(),</span>
<span class="nc" id="L1336">                                       foliageMaxSizeField.getAsInt(),</span>
<span class="nc" id="L1337">                                       foliageHeavyChanceField.getAsInt());</span>
<span class="nc" id="L1338">        newMapSettings.setPlantedFieldParams(fieldsMinField.getAsInt(),</span>
<span class="nc" id="L1339">                                             fieldsMaxField.getAsInt(),</span>
<span class="nc" id="L1340">                                             fieldSizeMinField.getAsInt(),</span>
<span class="nc" id="L1341">                                             fieldSizeMaxField.getAsInt());</span>
<span class="nc" id="L1342">        newMapSettings.setFortifiedParams(fortifiedMinField.getAsInt(),</span>
<span class="nc" id="L1343">                                          fortifiedMaxField.getAsInt(),</span>
<span class="nc" id="L1344">                                          fortifiedSizeMinField.getAsInt(),</span>
<span class="nc" id="L1345">                                          fortifiedSizeMaxField.getAsInt());</span>
<span class="nc" id="L1346">        newMapSettings.setPavementParams(pavementMinField.getAsInt(),</span>
<span class="nc" id="L1347">                                         pavementMaxField.getAsInt(),</span>
<span class="nc" id="L1348">                                         pavementSizeMinField.getAsInt(),</span>
<span class="nc" id="L1349">                                         pavementSizeMaxField.getAsInt());</span>
<span class="nc" id="L1350">        newMapSettings.setRubbleParams(rubbleMinField.getAsInt(),</span>
<span class="nc" id="L1351">                                       rubbleMaxField.getAsInt(),</span>
<span class="nc" id="L1352">                                       rubbleSizeMinField.getAsInt(),</span>
<span class="nc" id="L1353">                                       rubbleSizeMaxField.getAsInt());</span>
<span class="nc" id="L1354">        newMapSettings.setRoadParam(roadChanceField.getAsInt());</span>
<span class="nc" id="L1355">        newMapSettings.setCityParams(cityBlocks.getAsInt(),</span>
<span class="nc" id="L1356">                                     (String) cityTypeCombo.getSelectedItem(),</span>
<span class="nc" id="L1357">                                     cityCFMinField.getAsInt(),</span>
<span class="nc" id="L1358">                                     cityCFMaxField.getAsInt(),</span>
<span class="nc" id="L1359">                                     cityFloorsMinField.getAsInt(),</span>
<span class="nc" id="L1360">                                     cityFloorsMaxField.getAsInt(),</span>
<span class="nc" id="L1361">                                     cityDensityField.getAsInt(),</span>
<span class="nc" id="L1362">                                     townSizeField.getAsInt());</span>
<span class="nc" id="L1363">        newMapSettings.setWaterParams(lakesMinField.getAsInt(),</span>
<span class="nc" id="L1364">                                      lakesMaxField.getAsInt(),</span>
<span class="nc" id="L1365">                                      lakeSizeMinField.getAsInt(),</span>
<span class="nc" id="L1366">                                      lakeSizeMaxField.getAsInt(),</span>
<span class="nc" id="L1367">                                      deepChanceField.getAsInt());</span>
<span class="nc" id="L1368">        newMapSettings.setRiverParam(riverChanceField.getAsInt());</span>
<span class="nc" id="L1369">        newMapSettings.setIceParams(iceMinField.getAsInt(),</span>
<span class="nc" id="L1370">                                    iceMaxField.getAsInt(),</span>
<span class="nc" id="L1371">                                    iceSizeMinField.getAsInt(),</span>
<span class="nc" id="L1372">                                    iceSizeMaxField.getAsInt());</span>
<span class="nc" id="L1373">        newMapSettings.setSpecialFX(specialFxField.getAsInt(),</span>
<span class="nc" id="L1374">                                    fireChanceField.getAsInt(),</span>
<span class="nc" id="L1375">                                    freezeChanceField.getAsInt(),</span>
<span class="nc" id="L1376">                                    floodChanceField.getAsInt(),</span>
<span class="nc" id="L1377">                                    droughtChanceField.getAsInt());</span>

<span class="nc" id="L1379">        return newMapSettings;</span>
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.4.201905082037</span></div></body></html>