<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>BipedMech.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">megamek</a> &gt; <a href="index.source.html" class="el_package">megamek.common</a> &gt; <span class="el_source">BipedMech.java</span></div><h1>BipedMech.java</h1><pre class="source lang-java linenums">/*
 * MegaMek -
 *  Copyright (C) 2000-2002
 *    Ben Mazur (bmazur@sev.org)
 *    Cord Awtry (kipsta@bs-interactive.com)
 *
 *  This program is free software; you can redistribute it and/or modify it
 *  under the terms of the GNU General Public License as published by the Free
 *  Software Foundation; either version 2 of the License, or (at your option)
 *  any later version.
 *
 *  This program is distributed in the hope that it will be useful, but
 *  WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY
 *  or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License
 *  for more details.
 */
package megamek.common;

import megamek.common.options.OptionsConstants;

public class BipedMech extends Mech {
    /**
     *
     */
    private static final long serialVersionUID = 4166375446709772785L;

<span class="fc" id="L27">    private static final String[] LOCATION_NAMES =</span>
            {&quot;Head&quot;, &quot;Center Torso&quot;, &quot;Right Torso&quot;, &quot;Left Torso&quot;, &quot;Right Arm&quot;, &quot;Left Arm&quot;, &quot;Right Leg&quot;, &quot;Left Leg&quot;};

<span class="fc" id="L30">    private static final String[] LOCATION_ABBRS =</span>
            {&quot;HD&quot;, &quot;CT&quot;, &quot;RT&quot;, &quot;LT&quot;, &quot;RA&quot;, &quot;LA&quot;, &quot;RL&quot;, &quot;LL&quot;};

<span class="fc" id="L33">    private static final int[] NUM_OF_SLOTS =</span>
            {6, 12, 12, 12, 12, 12, 6, 6};

    public BipedMech(String inGyroType, String inCockpitType) {
<span class="fc" id="L37">        this(getGyroTypeForString(inGyroType), getCockpitTypeForString(inCockpitType));</span>
<span class="fc" id="L38">    }</span>

    public BipedMech() {
<span class="fc" id="L41">        this(Mech.GYRO_STANDARD, Mech.COCKPIT_STANDARD);</span>
<span class="fc" id="L42">    }</span>

    public BipedMech(int inGyroType, int inCockpitType) {
<span class="fc" id="L45">        super(inGyroType, inCockpitType);</span>

<span class="fc" id="L47">        movementMode = EntityMovementMode.BIPED;</span>
<span class="fc" id="L48">        originalMovementMode = EntityMovementMode.BIPED;</span>

<span class="fc" id="L50">        setCritical(LOC_RARM, 0, new CriticalSlot(CriticalSlot.TYPE_SYSTEM, ACTUATOR_SHOULDER));</span>
<span class="fc" id="L51">        setCritical(LOC_RARM, 1, new CriticalSlot(CriticalSlot.TYPE_SYSTEM, ACTUATOR_UPPER_ARM));</span>
<span class="fc" id="L52">        setCritical(LOC_RARM, 2, new CriticalSlot(CriticalSlot.TYPE_SYSTEM, ACTUATOR_LOWER_ARM));</span>
<span class="fc" id="L53">        setCritical(LOC_RARM, 3, new CriticalSlot(CriticalSlot.TYPE_SYSTEM, ACTUATOR_HAND));</span>

<span class="fc" id="L55">        setCritical(LOC_LARM, 0, new CriticalSlot(CriticalSlot.TYPE_SYSTEM, ACTUATOR_SHOULDER));</span>
<span class="fc" id="L56">        setCritical(LOC_LARM, 1, new CriticalSlot(CriticalSlot.TYPE_SYSTEM, ACTUATOR_UPPER_ARM));</span>
<span class="fc" id="L57">        setCritical(LOC_LARM, 2, new CriticalSlot(CriticalSlot.TYPE_SYSTEM, ACTUATOR_LOWER_ARM));</span>
<span class="fc" id="L58">        setCritical(LOC_LARM, 3, new CriticalSlot(CriticalSlot.TYPE_SYSTEM, ACTUATOR_HAND));</span>
<span class="fc" id="L59">    }</span>

    /**
     * Returns true if the entity can flip its arms
     */
    @Override
    public boolean canFlipArms() {
<span class="fc" id="L66">        boolean canFlip = true;</span>

<span class="pc bpc" id="L68" title="1 of 2 branches missed.">        if (hasSystem(Mech.ACTUATOR_HAND, Mech.LOC_LARM)) {</span>
<span class="fc" id="L69">            canFlip = false;</span>
<span class="nc bnc" id="L70" title="All 2 branches missed.">        } else if (hasSystem(Mech.ACTUATOR_LOWER_ARM, Mech.LOC_LARM)) {</span>
<span class="nc" id="L71">            canFlip = false;</span>
<span class="nc bnc" id="L72" title="All 2 branches missed.">        } else if (hasSystem(Mech.ACTUATOR_HAND, Mech.LOC_RARM)) {</span>
<span class="nc" id="L73">            canFlip = false;</span>
<span class="nc bnc" id="L74" title="All 2 branches missed.">        } else if (hasSystem(Mech.ACTUATOR_LOWER_ARM, Mech.LOC_RARM)) {</span>
<span class="nc" id="L75">            canFlip = false;</span>
        }

<span class="pc bpc" id="L78" title="1 of 2 branches missed.">        if (hasQuirk(OptionsConstants.QUIRK_POS_HYPER_ACTUATOR)) {</span>
<span class="nc" id="L79">            canFlip = true;</span>
        }

<span class="pc bpc" id="L82" title="1 of 2 branches missed.">        if (isProne()) {</span>
<span class="nc" id="L83">            canFlip = false;</span>
        }

<span class="fc" id="L86">        return canFlip;</span>
    }
    
    @Override
    public int getWalkMP(boolean gravity, boolean ignoreheat, boolean ignoremodulararmor) {
<span class="fc" id="L91">        int wmp = getOriginalWalkMP();</span>
<span class="fc" id="L92">        int legsDestroyed = 0;</span>
<span class="fc" id="L93">        int hipHits = 0;</span>
<span class="fc" id="L94">        int actuatorHits = 0;</span>

        //A Mech using tracks has its movement reduced by 50% per leg or track destroyed;
<span class="pc bpc" id="L97" title="1 of 2 branches missed.">        if (getMovementMode() == EntityMovementMode.TRACKED) {</span>
<span class="nc bnc" id="L98" title="All 2 branches missed.">            for (Mounted m : getMisc()) {</span>
<span class="nc bnc" id="L99" title="All 2 branches missed.">                if (m.getType().hasFlag(MiscType.F_TRACKS)) {</span>
<span class="nc bnc" id="L100" title="All 4 branches missed.">                    if (m.isHit() || isLocationBad(m.getLocation())) {</span>
<span class="nc" id="L101">                        legsDestroyed++;</span>
                    }
                }
<span class="nc" id="L104">            }</span>
<span class="nc" id="L105">            wmp = (wmp * (2 - legsDestroyed)) / 2; </span>
        } else {
<span class="fc bfc" id="L107" title="All 2 branches covered.">            for (int i = 0; i &lt; locations(); i++) {</span>
<span class="fc bfc" id="L108" title="All 2 branches covered.">                if (locationIsLeg(i)) {</span>
<span class="pc bpc" id="L109" title="1 of 2 branches missed.">                    if (!isLocationBad(i)) {</span>
<span class="pc bpc" id="L110" title="1 of 2 branches missed.">                        if (legHasHipCrit(i)) {</span>
<span class="nc" id="L111">                            hipHits++;</span>
<span class="nc bnc" id="L112" title="All 4 branches missed.">                            if ((game == null) || !game.getOptions().booleanOption(OptionsConstants.ADVGRNDMOV_TACOPS_LEG_DAMAGE)) {</span>
<span class="nc" id="L113">                                continue;</span>
                            }
                        }
<span class="fc" id="L116">                        actuatorHits += countLegActuatorCrits(i);</span>
                    } else {
<span class="nc" id="L118">                        legsDestroyed++;</span>
                    }
                }
            }

            // leg damage effects
<span class="pc bpc" id="L124" title="1 of 2 branches missed.">            if (legsDestroyed &gt; 0) {</span>
<span class="nc bnc" id="L125" title="All 2 branches missed.">                wmp = (legsDestroyed == 1) ? 1 : 0;</span>
            } else {
<span class="pc bpc" id="L127" title="1 of 2 branches missed.">                if (hipHits &gt; 0) {</span>
<span class="nc bnc" id="L128" title="All 4 branches missed.">                    if ((game != null) &amp;&amp; game.getOptions().booleanOption(OptionsConstants.ADVGRNDMOV_TACOPS_LEG_DAMAGE)) {</span>
<span class="nc bnc" id="L129" title="All 2 branches missed.">                        wmp = (hipHits &gt;= 1) ? wmp - (2 * hipHits) : 0;</span>
                    } else {
<span class="nc bnc" id="L131" title="All 2 branches missed.">                        wmp = (hipHits == 1) ? (int) Math.ceil(wmp / 2.0) : 0;</span>
                    }
                }
<span class="fc" id="L134">                wmp -= actuatorHits;</span>
            }
        }

<span class="pc bpc" id="L138" title="1 of 2 branches missed.">        if (hasShield()) {</span>
<span class="nc" id="L139">            wmp -= getNumberOfShields(MiscType.S_SHIELD_LARGE);</span>
<span class="nc" id="L140">            wmp -= getNumberOfShields(MiscType.S_SHIELD_MEDIUM);</span>
        }

<span class="pc bpc" id="L143" title="2 of 4 branches missed.">        if (!ignoremodulararmor &amp;&amp; hasModularArmor()) {</span>
<span class="nc" id="L144">            wmp--;</span>
        }

<span class="pc bpc" id="L147" title="1 of 2 branches missed.">        if (!ignoreheat) {</span>
            // factor in heat
<span class="pc bpc" id="L149" title="3 of 4 branches missed.">            if ((game != null) &amp;&amp; game.getOptions().booleanOption(OptionsConstants.ADVCOMBAT_TACOPS_HEAT)) {</span>
<span class="nc bnc" id="L150" title="All 2 branches missed.">                if (heat &lt; 30) {</span>
<span class="nc" id="L151">                    wmp -= (heat / 5);</span>
<span class="nc bnc" id="L152" title="All 2 branches missed.">                } else if (heat &gt;= 49) {</span>
<span class="nc" id="L153">                    wmp -= 9;</span>
<span class="nc bnc" id="L154" title="All 2 branches missed.">                } else if (heat &gt;= 43) {</span>
<span class="nc" id="L155">                    wmp -= 8;</span>
<span class="nc bnc" id="L156" title="All 2 branches missed.">                } else if (heat &gt;= 37) {</span>
<span class="nc" id="L157">                    wmp -= 7;</span>
<span class="nc bnc" id="L158" title="All 2 branches missed.">                } else if (heat &gt;= 31) {</span>
<span class="nc" id="L159">                    wmp -= 6;</span>
                } else {
<span class="nc" id="L161">                    wmp -= 5;</span>
                }
            } else {
<span class="fc" id="L164">                wmp -= (heat / 5);</span>
            }
            // TSM negates some heat, but provides no benefit when using tracks.
<span class="pc bpc" id="L167" title="7 of 8 branches missed.">            if ((heat &gt;= 9) &amp;&amp; hasTSM() &amp;&amp; legsDestroyed == 0 &amp;&amp; movementMode != EntityMovementMode.TRACKED) {</span>
<span class="nc" id="L168">                wmp += 2;</span>
            }
        }
<span class="fc" id="L171">        wmp = Math.max(wmp - getCargoMpReduction(this), 0);</span>
<span class="pc bpc" id="L172" title="1 of 2 branches missed.">        if (null != game) {</span>
<span class="nc" id="L173">            int weatherMod = game.getPlanetaryConditions().getMovementMods(this);</span>
<span class="nc bnc" id="L174" title="All 2 branches missed.">            if (weatherMod != 0) {</span>
<span class="nc" id="L175">                wmp = Math.max(wmp + weatherMod, 0);</span>
            }
        }
        // gravity
<span class="pc bpc" id="L179" title="1 of 2 branches missed.">        if (gravity) {</span>
<span class="fc" id="L180">            wmp = applyGravityEffectsOnMP(wmp);</span>
        }

        // For sanity sake...
<span class="fc" id="L184">        wmp = Math.max(0, wmp);</span>

<span class="fc" id="L186">        return wmp;</span>
    }

    /**
     * Returns this mech's running/flank mp modified for leg loss &amp; stuff.
     */
    @Override
    public int getRunMP(boolean gravity, boolean ignoreheat, boolean ignoremodulararmor) {
<span class="pc bpc" id="L194" title="1 of 2 branches missed.">        if (countBadLegs() == 0) {</span>
<span class="fc" id="L195">            return super.getRunMP(gravity, ignoreheat, ignoremodulararmor);</span>
        }
<span class="nc" id="L197">        return getWalkMP(gravity, ignoreheat, ignoremodulararmor);</span>
    }

    /**
     * Returns run MP without considering MASC modified for leg loss &amp; stuff.
     */

    @Override
    public int getRunMPwithoutMASC(boolean gravity, boolean ignoreheat, boolean ignoremodulararmor) {
<span class="nc bnc" id="L206" title="All 2 branches missed.">        if (countBadLegs() == 0) {</span>
<span class="nc" id="L207">            return super.getRunMPwithoutMASC(gravity, ignoreheat, ignoremodulararmor);</span>
        }
<span class="nc" id="L209">        return getWalkMP(gravity, ignoreheat, ignoremodulararmor);</span>
    }

    /**
     * Sets the internal structure for the mech.
     *
     * @param head head
     * @param ct   center torso
     * @param t    right/left torso
     * @param arm  right/left arm
     * @param leg  right/left leg
     */
    @Override
    public void setInternal(int head, int ct, int t, int arm, int leg) {
<span class="fc" id="L223">        initializeInternal(head, LOC_HEAD);</span>
<span class="fc" id="L224">        initializeInternal(ct, LOC_CT);</span>
<span class="fc" id="L225">        initializeInternal(t, LOC_RT);</span>
<span class="fc" id="L226">        initializeInternal(t, LOC_LT);</span>
<span class="fc" id="L227">        initializeInternal(arm, LOC_RARM);</span>
<span class="fc" id="L228">        initializeInternal(arm, LOC_LARM);</span>
<span class="fc" id="L229">        initializeInternal(leg, LOC_RLEG);</span>
<span class="fc" id="L230">        initializeInternal(leg, LOC_LLEG);</span>
<span class="fc" id="L231">    }</span>

    /**
     * Add in any piloting skill mods
     */
    @Override
    public PilotingRollData addEntityBonuses(PilotingRollData roll) {
<span class="nc" id="L238">        int[] locsToCheck = new int[2];</span>

<span class="nc" id="L240">        locsToCheck[0] = Mech.LOC_RLEG;</span>
<span class="nc" id="L241">        locsToCheck[1] = Mech.LOC_LLEG;</span>

<span class="nc bnc" id="L243" title="All 2 branches missed.">        if (hasFunctionalLegAES()) {</span>
<span class="nc" id="L244">            roll.addModifier(-2, &quot;AES bonus&quot;);</span>
        }

<span class="nc bnc" id="L247" title="All 2 branches missed.">        for (int i = 0; i &lt; locsToCheck.length; i++) {</span>
<span class="nc" id="L248">            int loc = locsToCheck[i];</span>

<span class="nc bnc" id="L250" title="All 2 branches missed.">            if (isLocationBad(loc)) {</span>
<span class="nc" id="L251">                roll.addModifier(5, getLocationName(loc) + &quot; destroyed&quot;);</span>
            } else {
                // check for damaged hip actuators
<span class="nc bnc" id="L254" title="All 2 branches missed.">                if (getBadCriticals(CriticalSlot.TYPE_SYSTEM, Mech.ACTUATOR_HIP, loc) &gt; 0) {</span>
<span class="nc" id="L255">                    roll.addModifier(2, getLocationName(loc) + &quot; Hip Actuator destroyed&quot;);</span>
<span class="nc bnc" id="L256" title="All 2 branches missed.">                    if (!game.getOptions().booleanOption(OptionsConstants.ADVGRNDMOV_TACOPS_LEG_DAMAGE)) {</span>
<span class="nc" id="L257">                        continue;</span>
                    }
                }
                // upper leg actuators?
<span class="nc bnc" id="L261" title="All 2 branches missed.">                if (getBadCriticals(CriticalSlot.TYPE_SYSTEM, Mech.ACTUATOR_UPPER_LEG, loc) &gt; 0) {</span>
<span class="nc" id="L262">                    roll.addModifier(1, getLocationName(loc) + &quot; Upper Leg Actuator destroyed&quot;);</span>
                }
                // lower leg actuators?
<span class="nc bnc" id="L265" title="All 2 branches missed.">                if (getBadCriticals(CriticalSlot.TYPE_SYSTEM, Mech.ACTUATOR_LOWER_LEG, loc) &gt; 0) {</span>
<span class="nc" id="L266">                    roll.addModifier(1, getLocationName(loc) + &quot; Lower Leg Actuator destroyed&quot;);</span>
                }
                // foot actuators?
<span class="nc bnc" id="L269" title="All 2 branches missed.">                if (getBadCriticals(CriticalSlot.TYPE_SYSTEM, Mech.ACTUATOR_FOOT, loc) &gt; 0) {</span>
<span class="nc" id="L270">                    roll.addModifier(1, getLocationName(loc) + &quot; Foot Actuator destroyed&quot;);</span>
                }
            }
        }

<span class="nc" id="L275">        return super.addEntityBonuses(roll);</span>
    }

    /**
     * Returns a vector of slot counts for all locations
     */
    @Override
    protected int[] getNoOfSlots() {
<span class="fc" id="L283">        return NUM_OF_SLOTS;</span>
    }

    /**
     * Returns a vector of names for all locations
     */
    @Override
    public String[] getLocationNames() {
<span class="fc" id="L291">        return LOCATION_NAMES;</span>
    }

    /**
     * Returns a vector of abbreviations for all locations
     */
    @Override
    public String[] getLocationAbbrs() {
<span class="fc" id="L299">        return LOCATION_ABBRS;</span>
    }

    @Override
    protected double getArmActuatorCost() {
<span class="nc" id="L304">        double cost = 0;</span>
<span class="nc" id="L305">        int numOfUpperArmActuators = 0;</span>
<span class="nc" id="L306">        int numOfLowerArmActuators = 0;</span>
<span class="nc" id="L307">        int numOfHands = 0;</span>
<span class="nc bnc" id="L308" title="All 2 branches missed.">        if (hasSystem(Mech.ACTUATOR_HAND, Mech.LOC_LARM)) {</span>
<span class="nc" id="L309">            numOfHands++;</span>
        }
<span class="nc bnc" id="L311" title="All 2 branches missed.">        if (hasSystem(Mech.ACTUATOR_LOWER_ARM, Mech.LOC_LARM)) {</span>
<span class="nc" id="L312">            numOfLowerArmActuators++;</span>
        }
<span class="nc bnc" id="L314" title="All 2 branches missed.">        if (hasSystem(Mech.ACTUATOR_UPPER_ARM, Mech.LOC_LARM)) {</span>
<span class="nc" id="L315">            numOfUpperArmActuators++;</span>
        }
<span class="nc bnc" id="L317" title="All 2 branches missed.">        if (hasSystem(Mech.ACTUATOR_HAND, Mech.LOC_RARM)) {</span>
<span class="nc" id="L318">            numOfHands++;</span>
        }
<span class="nc bnc" id="L320" title="All 2 branches missed.">        if (hasSystem(Mech.ACTUATOR_LOWER_ARM, Mech.LOC_RARM)) {</span>
<span class="nc" id="L321">            numOfLowerArmActuators++;</span>
        }
<span class="nc bnc" id="L323" title="All 2 branches missed.">        if (hasSystem(Mech.ACTUATOR_UPPER_ARM, Mech.LOC_RARM)) {</span>
<span class="nc" id="L324">            numOfUpperArmActuators++;</span>
        }
<span class="nc" id="L326">        cost += numOfUpperArmActuators * weight * 100;</span>
<span class="nc" id="L327">        cost += numOfLowerArmActuators * weight * 50;</span>
<span class="nc" id="L328">        cost += numOfHands * weight * 80;</span>
<span class="nc" id="L329">        return cost;</span>
    }

    @Override
    protected double getLegActuatorCost() {
<span class="nc" id="L334">        return (weight * 150 * 2) + (weight * 80 * 2) + (weight * 120 * 2);</span>
    }

    /**
     * Checks to see if this bipmech has any vibro blades on them.
     *
     * @return boolean &lt;code&gt;true&lt;/code&gt; if the mech has vibroblades
     * &lt;code&gt;false&lt;/code&gt; if not.
     */
    @Override
    public boolean hasVibroblades() {
<span class="nc" id="L345">        int count = 0;</span>

<span class="nc bnc" id="L347" title="All 2 branches missed.">        if (hasVibrobladesInLocation(Mech.LOC_RARM)) {</span>
<span class="nc" id="L348">            count++;</span>
        }
<span class="nc bnc" id="L350" title="All 2 branches missed.">        if (hasVibrobladesInLocation(Mech.LOC_LARM)) {</span>
<span class="nc" id="L351">            count++;</span>
        }

<span class="nc bnc" id="L354" title="All 2 branches missed.">        return count &gt; 0;</span>
    }

    /**
     * Checks to see if this bipedmech has a vibroblade in this location.
     *
     * @param location
     * @return boolean &lt;code&gt;true&lt;/code&gt; if the mech has vibroblades
     * &lt;code&gt;false&lt;/code&gt; if not.
     */
    public boolean hasVibrobladesInLocation(int location) {

        // Only arms have VibroBlades.
<span class="nc bnc" id="L367" title="All 4 branches missed.">        if ((location != Mech.LOC_RARM) &amp;&amp; (location != Mech.LOC_LARM)) {</span>
<span class="nc" id="L368">            return false;</span>
        }

<span class="nc bnc" id="L371" title="All 2 branches missed.">        for (int slot = 0; slot &lt; this.getNumberOfCriticals(location); slot++) {</span>
<span class="nc" id="L372">            CriticalSlot cs = getCritical(location, slot);</span>

<span class="nc bnc" id="L374" title="All 2 branches missed.">            if (cs == null) {</span>
<span class="nc" id="L375">                continue;</span>
            }
<span class="nc bnc" id="L377" title="All 2 branches missed.">            if (cs.getType() != CriticalSlot.TYPE_EQUIPMENT) {</span>
<span class="nc" id="L378">                continue;</span>
            }
<span class="nc" id="L380">            Mounted m = cs.getMount();</span>
<span class="nc" id="L381">            EquipmentType type = m.getType();</span>
<span class="nc bnc" id="L382" title="All 4 branches missed.">            if ((type instanceof MiscType) &amp;&amp; ((MiscType) type).isVibroblade()) {</span>
<span class="nc bnc" id="L383" title="All 6 branches missed.">                return !(m.isDestroyed() || m.isMissing() || m.isBreached());</span>
            }
        }

<span class="nc" id="L387">        return false;</span>
    }

    /**
     * Does the entity have a retracted blade in the given location
     */
    @Override
    public boolean hasRetractedBlade(int loc) {
<span class="nc bnc" id="L395" title="All 2 branches missed.">        for (Mounted m : getEquipment()) {</span>
<span class="nc bnc" id="L396" title="All 8 branches missed.">            if ((m.getLocation() == loc) &amp;&amp; !m.isDestroyed() &amp;&amp; !m.isBreached() &amp;&amp; (m.getType() instanceof MiscType)</span>
<span class="nc bnc" id="L397" title="All 4 branches missed.">                &amp;&amp; m.getType().hasFlag(MiscType.F_CLUB) &amp;&amp; m.getType().hasSubType(MiscType.S_RETRACTABLE_BLADE) &amp;&amp; !m</span>
<span class="nc bnc" id="L398" title="All 2 branches missed.">                    .curMode().equals(&quot;extended&quot;)) {</span>
<span class="nc" id="L399">                return true;</span>
            }
<span class="nc" id="L401">        }</span>
<span class="nc" id="L402">        return false;</span>
    }

    /**
     * Checks for Active Vibroblades in &lt;code&gt;location&lt;/code&gt; and returns the
     * amount of heat genereated if active.
     *
     * @param location
     * @return &lt;code&gt;int&lt;/code&gt; amount of heat genereated by an active
     * vibroblade.
     */
    @Override
    public int getActiveVibrobladeHeat(int location) {
<span class="nc" id="L415">        return getActiveVibrobladeHeat(location, false);</span>
    }

    @Override
    public int getActiveVibrobladeHeat(int location, boolean ignoreMode) {
        // Only arms have VibroBlades.
<span class="nc bnc" id="L421" title="All 4 branches missed.">        if ((location != Mech.LOC_RARM) &amp;&amp; (location != Mech.LOC_LARM)) {</span>
<span class="nc" id="L422">            return 0;</span>
        }

<span class="nc bnc" id="L425" title="All 2 branches missed.">        for (int slot = 0; slot &lt; this.getNumberOfCriticals(location); slot++) {</span>
<span class="nc" id="L426">            CriticalSlot cs = getCritical(location, slot);</span>

<span class="nc bnc" id="L428" title="All 2 branches missed.">            if (cs == null) {</span>
<span class="nc" id="L429">                continue;</span>
            }
<span class="nc bnc" id="L431" title="All 2 branches missed.">            if (cs.getType() != CriticalSlot.TYPE_EQUIPMENT) {</span>
<span class="nc" id="L432">                continue;</span>
            }
<span class="nc" id="L434">            Mounted m = cs.getMount();</span>
<span class="nc" id="L435">            EquipmentType type = m.getType();</span>
<span class="nc bnc" id="L436" title="All 8 branches missed.">            if ((type instanceof MiscType) &amp;&amp; ((MiscType) type).isVibroblade() &amp;&amp; (m.curMode().equals(&quot;Active&quot;) ||</span>
<span class="nc bnc" id="L437" title="All 2 branches missed.">                                                                                   ignoreMode) &amp;&amp; !(m.isDestroyed()</span>
<span class="nc bnc" id="L438" title="All 2 branches missed.">                                                                                                    || m.isMissing()</span>
<span class="nc bnc" id="L439" title="All 2 branches missed.">                                                                                                    || m.isBreached()</span>
            )) {
<span class="nc" id="L441">                MiscType blade = (MiscType) type;</span>
<span class="nc bnc" id="L442" title="All 2 branches missed.">                if (blade.hasSubType(MiscType.S_VIBRO_LARGE)) {</span>
<span class="nc" id="L443">                    return 7;</span>
                }
<span class="nc bnc" id="L445" title="All 2 branches missed.">                if (blade.hasSubType(MiscType.S_VIBRO_MEDIUM)) {</span>
<span class="nc" id="L446">                    return 5;</span>
                }
                // else
<span class="nc" id="L449">                return 3;</span>
            }
        }

<span class="nc" id="L453">        return 0;</span>

    }

    /**
     * Does the mech have any shields. a mech can have up to 2 shields.
     *
     * @return &lt;code&gt;true&lt;/code&gt; if unit has a shield crit.
     */
    @Override
    public boolean hasShield() {
<span class="fc bfc" id="L464" title="All 2 branches covered.">        for (Mounted m : getMisc()) {</span>
<span class="pc bpc" id="L465" title="1 of 2 branches missed.">            boolean isShield = (m.getType() instanceof MiscType)</span>
<span class="pc bpc" id="L466" title="1 of 2 branches missed.">                    &amp;&amp; ((MiscType) m.getType()).isShield();</span>
<span class="pc bpc" id="L467" title="4 of 6 branches missed.">            if (((m.getLocation() == Mech.LOC_LARM) || (m.getLocation() == Mech.LOC_RARM))</span>
<span class="nc bnc" id="L468" title="All 4 branches missed.">                    &amp;&amp; isShield &amp;&amp; !m.isInoperable() &amp;&amp; (getInternal(m.getLocation()) &gt; 0)) {</span>
<span class="nc bnc" id="L469" title="All 2 branches missed.">                for (int slot = 0; slot &lt; this.getNumberOfCriticals(m.getLocation()); slot++) {</span>
<span class="nc" id="L470">                    CriticalSlot cs = getCritical(m.getLocation(), slot);</span>
<span class="nc bnc" id="L471" title="All 2 branches missed.">                    if ((cs != null)</span>
<span class="nc bnc" id="L472" title="All 2 branches missed.">                            &amp;&amp; (cs.getType() == CriticalSlot.TYPE_EQUIPMENT)</span>
<span class="nc bnc" id="L473" title="All 4 branches missed.">                            &amp;&amp; cs.getMount().equals(m) &amp;&amp; !cs.isDestroyed()</span>
<span class="nc bnc" id="L474" title="All 2 branches missed.">                            &amp;&amp; !cs.isMissing()) {</span>
                        // when all crits of a shield are destroyed, it
                        // no longer hinders movement and stuff
<span class="nc" id="L477">                        return true;</span>
                    }
                }
            }
<span class="fc" id="L481">        }</span>
<span class="fc" id="L482">        return false;</span>
    }

    /**
     * Check to see how many shields of a certain size a mek has. you can have
     * up to shields per mek. However they can be of different size and each
     * size has its own draw backs. So check each size and add modifers based on
     * the number shields of that size.
     */
    @Override
    public int getNumberOfShields(long size) {

<span class="nc" id="L494">        int raShield = 0;</span>
<span class="nc" id="L495">        int laShield = 0;</span>

<span class="nc bnc" id="L497" title="All 2 branches missed.">        for (Mounted m : getMisc()) {</span>
<span class="nc" id="L498">            EquipmentType type = m.getType();</span>
<span class="nc bnc" id="L499" title="All 6 branches missed.">            if ((type instanceof MiscType) &amp;&amp; type.hasFlag(MiscType.F_CLUB) &amp;&amp; (type.hasSubType(size))) {</span>
                // ok so we have a shield of certain size. no which arm is it.
<span class="nc bnc" id="L501" title="All 2 branches missed.">                if (m.getLocation() == Mech.LOC_RARM) {</span>
<span class="nc" id="L502">                    raShield = 1;</span>
                }
<span class="nc bnc" id="L504" title="All 2 branches missed.">                if (m.getLocation() == Mech.LOC_LARM) {</span>
<span class="nc" id="L505">                    laShield = 1;</span>
                }
                // break now.
<span class="nc bnc" id="L508" title="All 4 branches missed.">                if ((raShield &gt; 0) &amp;&amp; (laShield &gt; 0)) {</span>
<span class="nc" id="L509">                    return 2;</span>
                }
            }
<span class="nc" id="L512">        }</span>
<span class="nc" id="L513">        return raShield + laShield;</span>
    }

    /**
     * Does the mech have an active shield This should only be called after
     * hasShield has been called.
     */
    @Override
    public boolean hasActiveShield(int location, boolean rear) {

<span class="nc bnc" id="L523" title="All 3 branches missed.">        switch (location) {</span>
            case Mech.LOC_CT:
            case Mech.LOC_HEAD:
                // no rear head location so must be rear CT which is not
                // proected by
                // any shield
<span class="nc bnc" id="L529" title="All 2 branches missed.">                if (rear) {</span>
<span class="nc" id="L530">                    return false;</span>
                }
<span class="nc bnc" id="L532" title="All 4 branches missed.">                if (hasActiveShield(Mech.LOC_LARM) || hasActiveShield(Mech.LOC_RARM)) {</span>
<span class="nc" id="L533">                    return true;</span>
                }
                // else
<span class="nc" id="L536">                return false;</span>
            case Mech.LOC_LARM:
            case Mech.LOC_LT:
            case Mech.LOC_LLEG:
<span class="nc" id="L540">                return hasActiveShield(Mech.LOC_LARM);</span>
            default:
<span class="nc" id="L542">                return hasActiveShield(Mech.LOC_RARM);</span>
        }
    }

    /**
     * Does the mech have an active shield This should only be called by
     * hasActiveShield(location,rear)
     */
    @Override
    public boolean hasActiveShield(int location) {

<span class="nc bnc" id="L553" title="All 4 branches missed.">        if ((location != Mech.LOC_RARM) &amp;&amp; (location != Mech.LOC_LARM)) {</span>
<span class="nc" id="L554">            return false;</span>
        }

<span class="nc bnc" id="L557" title="All 6 branches missed.">        if (isShutDown() || (getCrew().isKoThisRound() || getCrew().isUnconscious())) {</span>
<span class="nc" id="L558">            return false;</span>
        }

<span class="nc bnc" id="L561" title="All 2 branches missed.">        for (int slot = 0; slot &lt; this.getNumberOfCriticals(location); slot++) {</span>
<span class="nc" id="L562">            CriticalSlot cs = getCritical(location, slot);</span>

<span class="nc bnc" id="L564" title="All 2 branches missed.">            if (cs == null) {</span>
<span class="nc" id="L565">                continue;</span>
            }

<span class="nc bnc" id="L568" title="All 2 branches missed.">            if (cs.getType() != CriticalSlot.TYPE_EQUIPMENT) {</span>
<span class="nc" id="L569">                continue;</span>
            }

<span class="nc bnc" id="L572" title="All 2 branches missed.">            if (cs.isDamaged()) {</span>
<span class="nc" id="L573">                continue;</span>
            }

<span class="nc" id="L576">            Mounted m = cs.getMount();</span>
<span class="nc" id="L577">            EquipmentType type = m.getType();</span>
<span class="nc bnc" id="L578" title="All 6 branches missed.">            if ((type instanceof MiscType) &amp;&amp; ((MiscType) type).isShield() &amp;&amp; m.curMode().equals(MiscType.S_ACTIVE_SHIELD)) {</span>
<span class="nc bnc" id="L579" title="All 2 branches missed.">                return m.getCurrentDamageCapacity(this, m.getLocation()) &gt; 0;</span>
            }
        }
<span class="nc" id="L582">        return false;</span>
    }

    /**
     * Does the mech have a passive shield This should only be called after
     * hasShield has been called.
     */
    @Override
    public boolean hasPassiveShield(int location, boolean rear) {

<span class="nc bnc" id="L592" title="All 3 branches missed.">        switch (location) {</span>
            // CT Head and legs are not protected by Passive shields.
            case Mech.LOC_CT:
            case Mech.LOC_HEAD:
            case Mech.LOC_LLEG:
            case Mech.LOC_RLEG:
<span class="nc" id="L598">                return false;</span>
            case Mech.LOC_LARM:
            case Mech.LOC_LT:
<span class="nc bnc" id="L601" title="All 2 branches missed.">                if (rear) {</span>
                    // that
<span class="nc" id="L603">                    return false;</span>
                }
<span class="nc" id="L605">                return hasPassiveShield(Mech.LOC_LARM);</span>
            // RA RT
            default:
<span class="nc bnc" id="L608" title="All 2 branches missed.">                if (rear) {</span>
                    // that
<span class="nc" id="L610">                    return false;</span>
                }
<span class="nc" id="L612">                return hasPassiveShield(Mech.LOC_RARM);</span>
        }
    }

    /**
     * Does the mech have a passive shield This should only be called by
     * hasPassiveShield(location,rear)
     */
    @Override
    public boolean hasPassiveShield(int location) {

<span class="nc bnc" id="L623" title="All 6 branches missed.">        if (isShutDown() || (getCrew().isKoThisRound() || getCrew().isUnconscious())) {</span>
<span class="nc" id="L624">            return false;</span>
        }

<span class="nc bnc" id="L627" title="All 4 branches missed.">        if ((location != Mech.LOC_RARM) &amp;&amp; (location != Mech.LOC_LARM)) {</span>
<span class="nc" id="L628">            return false;</span>
        }

<span class="nc bnc" id="L631" title="All 2 branches missed.">        for (int slot = 0; slot &lt; this.getNumberOfCriticals(location); slot++) {</span>
<span class="nc" id="L632">            CriticalSlot cs = getCritical(location, slot);</span>

<span class="nc bnc" id="L634" title="All 2 branches missed.">            if (cs == null) {</span>
<span class="nc" id="L635">                continue;</span>
            }

<span class="nc bnc" id="L638" title="All 2 branches missed.">            if (cs.getType() != CriticalSlot.TYPE_EQUIPMENT) {</span>
<span class="nc" id="L639">                continue;</span>
            }

<span class="nc bnc" id="L642" title="All 2 branches missed.">            if (cs.isDamaged()) {</span>
<span class="nc" id="L643">                continue;</span>
            }

<span class="nc" id="L646">            Mounted m = cs.getMount();</span>
<span class="nc" id="L647">            EquipmentType type = m.getType();</span>
<span class="nc bnc" id="L648" title="All 6 branches missed.">            if ((type instanceof MiscType) &amp;&amp; ((MiscType) type).isShield() &amp;&amp; m.curMode().equals(MiscType.S_PASSIVE_SHIELD)) {</span>
<span class="nc bnc" id="L649" title="All 2 branches missed.">                return m.getCurrentDamageCapacity(this, m.getLocation()) &gt; 0;</span>
            }
        }
<span class="nc" id="L652">        return false;</span>
    }

    /**
     * Does the mech have an shield in no defense mode
     */
    @Override
    public boolean hasNoDefenseShield(int location) {

<span class="nc bnc" id="L661" title="All 4 branches missed.">        if ((location != Mech.LOC_RARM) &amp;&amp; (location != Mech.LOC_LARM)) {</span>
<span class="nc" id="L662">            return false;</span>
        }

<span class="nc bnc" id="L665" title="All 2 branches missed.">        for (int slot = 0; slot &lt; this.getNumberOfCriticals(location); slot++) {</span>
<span class="nc" id="L666">            CriticalSlot cs = getCritical(location, slot);</span>

<span class="nc bnc" id="L668" title="All 2 branches missed.">            if (cs == null) {</span>
<span class="nc" id="L669">                continue;</span>
            }

<span class="nc bnc" id="L672" title="All 2 branches missed.">            if (cs.getType() != CriticalSlot.TYPE_EQUIPMENT) {</span>
<span class="nc" id="L673">                continue;</span>
            }

<span class="nc bnc" id="L676" title="All 2 branches missed.">            if (cs.isDamaged()) {</span>
<span class="nc" id="L677">                continue;</span>
            }

<span class="nc" id="L680">            Mounted m = cs.getMount();</span>
<span class="nc" id="L681">            EquipmentType type = m.getType();</span>
<span class="nc bnc" id="L682" title="All 8 branches missed.">            if ((type instanceof MiscType) &amp;&amp; ((MiscType) type).isShield() &amp;&amp; (m.curMode().equals(MiscType.S_NO_SHIELD) || isShutDown() || // if</span>
                                                                               // he
                                                                               // has
                                                                               // a
                                                                               // shield
                                                                               // and
                                                                               // the mek is SD or pilot
                                                                               // KOed then it goes to no
                                                                               // defense mode
<span class="nc bnc" id="L691" title="All 2 branches missed.">                                                                               getCrew().isKoThisRound() || getCrew()</span>
<span class="nc bnc" id="L692" title="All 2 branches missed.">                    .isUnconscious())) {</span>
<span class="nc bnc" id="L693" title="All 2 branches missed.">                return m.getCurrentDamageCapacity(this, m.getLocation()) &gt; 0;</span>
            }
        }
<span class="nc" id="L696">        return false;</span>
    }

    /**
     * Checks is Biped Mek has functional AES in the location. Only works for
     * Arms
     */
    @Override
    public boolean hasFunctionalArmAES(int location) {

<span class="nc" id="L706">        boolean hasAES = false;</span>
<span class="nc bnc" id="L707" title="All 4 branches missed.">        if ((location != Mech.LOC_RARM) &amp;&amp; (location != Mech.LOC_LARM)) {</span>
<span class="nc" id="L708">            return false;</span>
        }

<span class="nc bnc" id="L711" title="All 2 branches missed.">        for (Mounted mounted : getMisc()) {</span>
<span class="nc bnc" id="L712" title="All 10 branches missed.">            if ((mounted.getLocation() == location) &amp;&amp; mounted.getType().hasFlag(MiscType.F_ACTUATOR_ENHANCEMENT_SYSTEM) &amp;&amp; !mounted.isDestroyed() &amp;&amp; !mounted.isBreached() &amp;&amp; !mounted.isMissing()) {</span>
<span class="nc" id="L713">                hasAES = true;</span>
            } // AES is destroyed their for it cannot be used.
<span class="nc bnc" id="L715" title="All 4 branches missed.">            else if ((mounted.getLocation() == location) &amp;&amp; mounted.getType().hasFlag(MiscType.F_ACTUATOR_ENHANCEMENT_SYSTEM)) {</span>
<span class="nc" id="L716">                return false;</span>
            }
<span class="nc" id="L718">        }</span>

<span class="nc" id="L720">        return hasAES;</span>
    }

    /**
     * Checks for functional AES in both legs
     */
    @Override
    public boolean hasFunctionalLegAES() {
<span class="nc" id="L728">        boolean rightLeg = false;</span>
<span class="nc" id="L729">        boolean leftLeg = false;</span>

<span class="nc bnc" id="L731" title="All 2 branches missed.">        for (Mounted mounted : getMisc()) {</span>
<span class="nc bnc" id="L732" title="All 4 branches missed.">            if ((mounted.getLocation() == Mech.LOC_LLEG) || (mounted.getLocation() == Mech.LOC_RLEG)) {</span>
<span class="nc bnc" id="L733" title="All 2 branches missed.">                if (((MiscType) mounted.getType()).hasFlag(MiscType.F_ACTUATOR_ENHANCEMENT_SYSTEM) &amp;&amp; !mounted</span>
<span class="nc bnc" id="L734" title="All 6 branches missed.">                        .isDestroyed() &amp;&amp; !mounted.isBreached() &amp;&amp; !mounted.isMissing()) {</span>
<span class="nc bnc" id="L735" title="All 2 branches missed.">                    if (mounted.getLocation() == Mech.LOC_LLEG) {</span>
<span class="nc" id="L736">                        leftLeg = true;</span>
                    } else {
<span class="nc" id="L738">                        rightLeg = true;</span>
                    }
                }// AES is destroyed their for it cannot be used.
<span class="nc bnc" id="L741" title="All 2 branches missed.">                else if (((MiscType) mounted.getType()).hasFlag(MiscType.F_ACTUATOR_ENHANCEMENT_SYSTEM)) {</span>
<span class="nc" id="L742">                    return false;</span>
                }
            }
<span class="nc" id="L745">        }</span>

<span class="nc bnc" id="L747" title="All 4 branches missed.">        return rightLeg &amp;&amp; leftLeg;</span>
    }

    @Override
    public boolean canGoHullDown() {
        // check the option
<span class="fc" id="L753">        boolean retVal = game.getOptions().booleanOption(OptionsConstants.ADVGRNDMOV_TACOPS_HULL_DOWN);</span>
<span class="pc bpc" id="L754" title="1 of 2 branches missed.">        if (!retVal) {</span>
<span class="fc" id="L755">            return false;</span>
        }
        // check the locations
<span class="nc bnc" id="L758" title="All 6 branches missed.">        retVal = (!isLocationBad(Mech.LOC_LLEG) &amp;&amp; !isLocationBad(Mech.LOC_RLEG) &amp;&amp; !isLocationDoomed(Mech.LOC_LLEG)</span>
<span class="nc bnc" id="L759" title="All 2 branches missed.">                  &amp;&amp; !isLocationDoomed(Mech.LOC_RLEG));</span>
<span class="nc bnc" id="L760" title="All 2 branches missed.">        if (!retVal) {</span>
<span class="nc" id="L761">            return false;</span>
        }
        // check the Gyro
<span class="nc bnc" id="L764" title="All 2 branches missed.">        return !isGyroDestroyed();</span>
    }

    @Override
    public PilotingRollData checkGetUp(MoveStep step,
            EntityMovementType moveType) {

<span class="nc" id="L771">        PilotingRollData roll = super.checkGetUp(step, moveType);</span>

<span class="nc bnc" id="L773" title="All 2 branches missed.">        if (roll.getValue() != TargetRoll.CHECK_FALSE) {</span>
<span class="nc" id="L774">            addStandingPenalties(roll);</span>
        }

<span class="nc" id="L777">        return roll;</span>
    }

    public void addStandingPenalties(PilotingRollData roll) {

<span class="nc bnc" id="L782" title="All 2 branches missed.">        if (hasQuirk(OptionsConstants.QUIRK_NEG_NO_ARMS)) {</span>
<span class="nc" id="L783">            roll.addModifier(2, &quot;no/minimal arms&quot;);</span>
<span class="nc" id="L784">            return;</span>
        }

<span class="nc bnc" id="L787" title="All 2 branches missed.">        if (game.getOptions().booleanOption(OptionsConstants.ADVGRNDMOV_TACOPS_ATTEMPTING_STAND)) {</span>
<span class="nc" id="L788">            int[] locsToCheck = new int[2];</span>

<span class="nc" id="L790">            locsToCheck[0] = Mech.LOC_RARM;</span>
<span class="nc" id="L791">            locsToCheck[1] = Mech.LOC_LARM;</span>

<span class="nc bnc" id="L793" title="All 2 branches missed.">            for (int i = 0; i &lt; locsToCheck.length; i++) {</span>
<span class="nc" id="L794">                int loc = locsToCheck[i];</span>
<span class="nc bnc" id="L795" title="All 2 branches missed.">                if (isLocationBad(loc)) {</span>
<span class="nc" id="L796">                    roll.addModifier(2, getLocationName(loc) + &quot; destroyed&quot;);</span>
                } else {
                    // check for damaged hip actuators
<span class="nc bnc" id="L799" title="All 2 branches missed.">                    if (!hasWorkingSystem(Mech.ACTUATOR_HAND, loc)) {</span>
<span class="nc" id="L800">                        roll.addModifier(1, getLocationName(loc) + &quot; hand Actuator missing/destroyed&quot;);</span>
<span class="nc bnc" id="L801" title="All 2 branches missed.">                    } else if (!hasWorkingSystem(Mech.ACTUATOR_LOWER_ARM, loc)) {</span>
<span class="nc" id="L802">                        roll.addModifier(1, getLocationName(loc) + &quot; lower Actuator missing/destroyed&quot;);</span>
<span class="nc bnc" id="L803" title="All 2 branches missed.">                    } else if (!hasWorkingSystem(Mech.ACTUATOR_UPPER_ARM, loc)) {</span>
<span class="nc" id="L804">                        roll.addModifier(1, getLocationName(loc) + &quot; upper ctuator missing/destroyed&quot;);</span>
<span class="nc bnc" id="L805" title="All 2 branches missed.">                    } else if (!hasWorkingSystem(Mech.ACTUATOR_SHOULDER, loc)) {</span>
<span class="nc" id="L806">                        roll.addModifier(1, getLocationName(loc) + &quot; shoulder Actuator missing/destroyed&quot;);</span>
                    }
                }
            }
        }

<span class="nc" id="L812">    }</span>

    /**
     * @return if this mech cannot stand up from hulldown
     */
    @Override
    public boolean cannotStandUpFromHullDown() {
<span class="nc" id="L819">        int i = 0;</span>
<span class="nc bnc" id="L820" title="All 2 branches missed.">        if (isLocationBad(LOC_LLEG)) {</span>
<span class="nc" id="L821">            i++;</span>
        }
<span class="nc bnc" id="L823" title="All 2 branches missed.">        if (isLocationBad(LOC_RLEG)) {</span>
<span class="nc" id="L824">            i++;</span>
        }
<span class="nc bnc" id="L826" title="All 4 branches missed.">        return (i &gt;= 1) || isGyroDestroyed();</span>
    }

    @Override
    public boolean hasMPReducingHardenedArmor() {
<span class="pc bpc" id="L831" title="2 of 4 branches missed.">        return (armorType[LOC_LLEG] == EquipmentType.T_ARMOR_HARDENED)</span>
               || (armorType[LOC_RLEG] == EquipmentType.T_ARMOR_HARDENED);
    }

    @Override
    public long getEntityType() {
<span class="fc" id="L837">        return Entity.ETYPE_MECH | Entity.ETYPE_BIPED_MECH;</span>
    }
    
    /**
     * 
     * @return true if this unit is capable of Zweihandering (melee attack with both hands)
     */
    public boolean canZweihander() {
<span class="nc bnc" id="L845" title="All 2 branches missed.">        return (getCrew() != null)</span>
<span class="nc bnc" id="L846" title="All 2 branches missed.">                &amp;&amp; hasAbility(OptionsConstants.PILOT_ZWEIHANDER)</span>
<span class="nc bnc" id="L847" title="All 2 branches missed.">                &amp;&amp; hasWorkingSystem(Mech.ACTUATOR_HAND, Mech.LOC_RARM)</span>
<span class="nc bnc" id="L848" title="All 2 branches missed.">                &amp;&amp; hasWorkingSystem(Mech.ACTUATOR_HAND, Mech.LOC_LARM)</span>
<span class="nc bnc" id="L849" title="All 2 branches missed.">                &amp;&amp; !isLocationBad(Mech.LOC_RARM)</span>
<span class="nc bnc" id="L850" title="All 2 branches missed.">                &amp;&amp; !isLocationBad(Mech.LOC_LARM)</span>
<span class="nc bnc" id="L851" title="All 2 branches missed.">                &amp;&amp; !isProne();</span>
    }

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.4.201905082037</span></div></body></html>